<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ToMoreBeyond - é¢ç™½ã„ã“ã¨ã ã‘ã‚’ã™ã‚‹ã€‚å‹ã¨å…±ã«é“ãªãé“ã‚’è¶Šãˆã‚‹</title>
  <meta name="description" content="ToMoreBeyondã¯æœ€å…ˆç«¯ã®AIæŠ€è¡“ã¨ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã§ã€ã‚ˆã‚Šè‰¯ã„æœªæ¥ã‚’å‰µé€ ã™ã‚‹ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã‚«ãƒ³ãƒ‘ãƒ‹ãƒ¼ã§ã™ã€‚">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@400;700;800;900&display=swap" rel="stylesheet">
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #ffffff;
      overflow: hidden;
      min-height: 100vh;
      position: relative;
    }
    
    body.loading {
      overflow: hidden;
    }
    
    body.loaded {
      overflow: hidden;
    }
    
    /* å·¦ä¸Šãƒ­ã‚´ - ã‚ˆã‚Šæ´—ç·´ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³ */
    .logo {
      position: fixed;
      top: 30px;
      left: 30px;
      z-index: 1000;
      font-family: 'Playfair Display', serif;
      font-size: 28px;
      font-weight: 700;
      color: #1a1a1a;
      text-decoration: none;
      letter-spacing: -0.5px;
      transition: all 0.3s ease;
      background: linear-gradient(135deg, #1a1a1a 0%, #FFB300 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      opacity: 0;
      transform: translateY(-20px);
    }
    
    body.loaded .logo {
      opacity: 1;
      transform: translateY(0);
    }
    
    .logo:hover {
      transform: scale(1.05);
    }
    
    /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.8s ease, visibility 0.8s ease;
    }
    
    .loading-screen.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }
    
    .loading-content {
      text-align: center;
      max-width: 600px;
      padding: 40px;
    }
    
    .logo-loading {
      margin-bottom: 60px;
    }
    
    .company-name {
      font-family: 'Playfair Display', serif;
      font-size: 3.5rem;
      font-weight: 800;
      color: #1a1a1a;
      margin: 0 0 20px 0;
      letter-spacing: -1px;
      background: linear-gradient(135deg, #1a1a1a 0%, #FFB300 50%, #1a1a1a 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: logoShine 3s ease-in-out infinite;
    }
    
    @keyframes logoShine {
      0%, 100% { background-position: -200% center; }
      50% { background-position: 200% center; }
    }
    
    .mission-text {
      font-size: 1.2rem;
      color: #666;
      line-height: 1.6;
      margin: 0;
      opacity: 0;
      animation: fadeInUp 1s ease 0.5s forwards;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* é“ã®æç”»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    .path-drawing {
      position: relative;
      height: 200px;
      margin: 40px 0;
      opacity: 0;
      animation: fadeIn 1s ease 1s forwards;
    }
    
    @keyframes fadeIn {
      to { opacity: 1; }
    }
    
    .path-svg {
      width: 100%;
      height: 100%;
    }
    
    .drawing-path {
      animation: drawPath 3s ease-in-out 1.5s forwards;
    }
    
    @keyframes drawPath {
      to {
        stroke-dashoffset: 0;
      }
    }
    
    .unknown-path {
      opacity: 0.3;
    }
    
    /* ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ç§»å‹• */
    .loading-character {
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 40px;
      height: 60px;
      animation: characterWalk 3s ease-in-out 1.5s forwards;
    }
    
    @keyframes characterWalk {
      0% {
        left: 0;
        transform: translateY(-50%) translateX(-20px);
      }
      100% {
        left: calc(100% - 40px);
        transform: translateY(-50%) translateX(0);
      }
    }
    
    .char-svg {
      width: 100%;
      height: 100%;
      animation: characterBob 0.6s ease-in-out infinite;
    }
    
    @keyframes characterBob {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-3px); }
    }
    
    /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */
    .loading-progress {
      margin-top: 40px;
      opacity: 0;
      animation: fadeIn 1s ease 2s forwards;
    }
    
    .progress-bar {
      width: 100%;
      height: 6px;
      background: rgba(255, 179, 0, 0.2);
      border-radius: 3px;
      overflow: hidden;
      margin-bottom: 20px;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #FFB300, #DAA520);
      border-radius: 3px;
      width: 0;
      transition: width 0.3s ease;
      box-shadow: 0 0 10px rgba(255, 179, 0, 0.5);
    }
    
    .loading-text {
      font-size: 1rem;
      color: #666;
      margin: 0;
      transition: all 0.3s ease;
    }
    
    /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼ã‚’å‰Šé™¤ï¼ˆä¸è¦ï¼‰ */
    
    /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ - å·¦å³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾å¿œ */
    .main-content {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 50px;
      overflow-x: hidden; /* æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’éè¡¨ç¤º */
      overflow-y: hidden; /* ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’éè¡¨ç¤º */
    }
    
    /* damso.comé¢¨ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒ†ãƒŠ */
    .cards-container {
      width: 100%;
      max-width: 1200px;
      height: 400px;
      position: relative;
      overflow: hidden;
      background: transparent;
      display: flex;
      align-items: center;
    }
    
    .cards-track {
      display: flex;
      gap: 20px;
      height: 100%;
      will-change: transform;
      backface-visibility: hidden;
      contain: layout style paint;
      transform-style: preserve-3d;
      transform: translateX(0px) translateZ(0);
      visibility: visible;
      opacity: 1;
    }
    
    /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä¸­ã¯è»½ã„é·ç§»ã§ã‚¹ãƒ ãƒ¼ã‚ºã« */
    .cards-track.scrolling {
      transition: transform 0.1s ease-out;
      transform-origin: center center;
    }
    
    /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«åœæ­¢æ™‚ã¯è»½ã„é·ç§» */
    .cards-track.idle {
      transition: transform 0.3s cubic-bezier(0.23, 1, 0.32, 1);
    }
    
    /* æ´—ç·´ã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³ */
    .card {
      min-width: 320px;
      height: 380px;
      background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%);
      border: 1px solid #f0f0f0;
      border-radius: 20px;
      padding: 40px 30px;
      flex-shrink: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      position: relative;
      box-shadow: 
        0 4px 20px rgba(0,0,0,0.04),
        0 1px 3px rgba(0,0,0,0.02);
      overflow: hidden;
    }
    
    /* ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šã‚«ãƒ¼ãƒ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .card.divider {
      min-width: 280px;
      height: 320px;
      background: linear-gradient(135deg, #FFB300 0%, #FFA000 100%);
      border: 2px solid #DAA520;
      color: white;
      font-weight: 600;
      box-shadow: 
        0 8px 32px rgba(255, 179, 0, 0.2),
        0 4px 16px rgba(255, 179, 0, 0.1);
      cursor: default;
      position: relative;
    }
    
    .card.divider::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(135deg, #FFB300, #FFA000, #FFB300);
      border-radius: 22px;
      z-index: -1;
      animation: dividerGlow 3s ease-in-out infinite;
    }
    
    @keyframes dividerGlow {
      0%, 100% { 
        opacity: 0.8;
        transform: scale(1);
      }
      50% { 
        opacity: 1;
        transform: scale(1.02);
      }
    }
    
    .card.divider .card-icon {
      font-size: 64px;
      margin-bottom: 24px;
      text-shadow: 0 4px 8px rgba(0,0,0,0.3);
      animation: dividerIconFloat 4s ease-in-out infinite;
    }
    
    @keyframes dividerIconFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-8px); }
    }
    
    .card.divider .card-title {
      font-size: 28px;
      font-weight: 700;
      color: white;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
      margin-bottom: 12px;
    }
    
    .card.divider .card-description {
      color: rgba(255,255,255,0.9);
      font-size: 18px;
      font-weight: 500;
      text-shadow: 0 1px 2px rgba(0,0,0,0.2);
    }
    
    .card.divider:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 
        0 16px 48px rgba(255, 179, 0, 0.3),
        0 8px 24px rgba(255, 179, 0, 0.2);
    }
    
    .card:hover {
      transform: translateY(-12px) scale(1.02);
      box-shadow: 
        0 20px 60px rgba(0,0,0,0.12),
        0 8px 30px rgba(255,179,0,0.08);
      border-color: #FFB300;
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #FFB300, #FFA000);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.4s ease;
    }
    
    .card:hover::before {
      transform: scaleX(1);
    }
    
    .card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at center, 
        rgba(255,179,0,0.03) 0%, 
        transparent 70%);
      opacity: 0;
      transition: opacity 0.4s ease;
      border-radius: 20px;
    }
    
    .card:hover::after {
      opacity: 1;
    }
    
    .card-icon {
      font-size: 56px;
      margin-bottom: 28px;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
      transition: transform 0.3s ease;
    }
    
    .card:hover .card-icon {
      transform: scale(1.1);
    }
    
    .card-title {
      font-family: 'Playfair Display', serif;
      font-size: 26px;
      font-weight: 700;
      color: #1a1a1a;
      margin-bottom: 16px;
      letter-spacing: -0.5px;
    }
    
    .card-description {
      font-size: 16px;
      color: #666;
      line-height: 1.6;
      font-weight: 400;
    }
    
    /* çœ‹æ¿ã‚·ã‚¹ãƒ†ãƒ  */
    .signpost-container {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 80px;
      z-index: 100;
      background: linear-gradient(to bottom, transparent, rgba(245, 245, 245, 0.3));
      pointer-events: none;
    }
    
    .signpost {
      position: absolute;
      bottom: 10px;
      width: 80px;
      height: 60px;
      transform-origin: bottom center;
      transition: transform 0.3s ease;
      pointer-events: auto;
    }
    
    .signpost:hover {
      transform: scale(1.1) translateY(-5px);
    }
    
    .signpost-pole {
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 4px;
      height: 40px;
      background: #8B6914;
      transform: translateX(-50%);
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    
    .signpost-board {
      position: absolute;
      bottom: 35px;
      left: 50%;
      transform: translateX(-50%);
      background: #FFEAA7;
      border: 2px solid #8B6914;
      border-radius: 8px;
      padding: 6px 12px;
      font-size: 12px;
      font-weight: 600;
      color: #333;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      white-space: nowrap;
      min-width: 60px;
      text-align: center;
    }
    
    .signpost.active .signpost-board {
      background: #FFB300;
      color: white;
      border-color: #DAA520;
      box-shadow: 0 6px 12px rgba(255, 179, 0, 0.3);
    }
    
    .signpost-icon {
      font-size: 16px;
      margin-bottom: 2px;
      display: block;
    }
    
    .signpost-label {
      font-size: 10px;
      line-height: 1;
      display: block;
    }
    
    
    
    
    /* é©åˆ‡ãªã‚µã‚¤ã‚ºã®æ£’äººé–“ï¼ˆ100px heightï¼‰ - çœ‹æ¿ã®é«˜ã•ã«ç«‹ã¤ */
    .tiny-character {
      position: fixed;
      bottom: 10px; /* çœ‹æ¿ã¨åŒã˜é«˜ã• */
      left: 20px; /* å·¦ç«¯ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆ */
      transform: translateZ(0);
      width: 100px;
      height: 100px;
      z-index: 150;
      filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
      contain: layout style paint;
      will-change: transform, left;
      backface-visibility: hidden;
      transition: left 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), filter 0.3s ease;
    }
    
    /* ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®æ—…è·¯é€²è¡ŒçŠ¶æ…‹ */
    .tiny-character.journey-mode {
      transition: left 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    
    /* ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆåˆ°é”æ™‚ã®ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
    .tiny-character.at-checkpoint {
      filter: drop-shadow(0 8px 16px rgba(255,179,0,0.4));
      animation: checkpointGlow 2s ease-in-out infinite;
    }
    
    @keyframes checkpointGlow {
      0%, 100% { 
        filter: drop-shadow(0 8px 16px rgba(255,179,0,0.4));
      }
      50% { 
        filter: drop-shadow(0 12px 24px rgba(255,179,0,0.6));
      }
    }
    
    /* ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆé€šçŸ¥ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    @keyframes checkpointPop {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.8);
      }
      20% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.1);
      }
      30% {
        transform: translate(-50%, -50%) scale(1);
      }
      80% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }
      100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.9);
      }
    }
    
    /* ãƒªã‚»ãƒƒãƒˆé€šçŸ¥ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    @keyframes resetPop {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.7);
      }
      15% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.05);
      }
      25% {
        transform: translate(-50%, -50%) scale(1);
      }
      85% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }
      100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.8);
      }
    }
    
    
    /* GIFé¢¨ã‚³ãƒé€ã‚Šæ­©è¡Œã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    .walking-animation-container {
      position: relative;
      width: 100%;
      height: 100%;
    }
    
    .walk-frame {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      visibility: hidden;
    }
    
    /* å„ãƒ•ãƒ¬ãƒ¼ãƒ ã®è¡¨ç¤ºã‚¿ã‚¤ãƒŸãƒ³ã‚° */
    .walk-frame.active {
      opacity: 1;
      visibility: visible;
    }
    
    /* ã‚¢ã‚¤ãƒ‰ãƒ«çŠ¶æ…‹ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    .walk-frame.idle.active {
      animation: idleSwaying 4s ease-in-out infinite;
    }
    
    @keyframes idleSwaying {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      25% { transform: translateY(-1px) rotate(0.5deg); }
      50% { transform: translateY(0px) rotate(0deg); }
      75% { transform: translateY(-1px) rotate(-0.5deg); }
    }
    
    /* æ£’äººé–“ã®è¦–ç·šå‹•ä½œ */
    .tiny-character.looking-left .walk-frame.idle.active circle {
      transform: translateX(-2px);
      transition: transform 0.3s ease;
    }
    
    .tiny-character.looking-right .walk-frame.idle.active circle {
      transform: translateX(2px);
      transition: transform 0.3s ease;
    }
    
    /* ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é€²åŒ–ã‚·ã‚¹ãƒ†ãƒ  */
    .tiny-character.evolution-level-1 {
      filter: drop-shadow(0 4px 8px rgba(255,179,0,0.2));
    }
    
    .tiny-character.evolution-level-2 {
      filter: drop-shadow(0 6px 12px rgba(255,179,0,0.3));
      transform: scale(1.05);
    }
    
    .tiny-character.evolution-level-3 {
      filter: drop-shadow(0 8px 16px rgba(255,179,0,0.4));
      transform: scale(1.1);
    }
    
    .tiny-character.evolution-level-4 {
      filter: drop-shadow(0 10px 20px rgba(255,179,0,0.5));
      transform: scale(1.15);
    }
    
    .tiny-character.evolution-level-5 {
      filter: drop-shadow(0 12px 24px rgba(255,179,0,0.6));
      transform: scale(1.2);
      animation: finalEvolutionGlow 3s ease-in-out infinite;
    }
    
    @keyframes finalEvolutionGlow {
      0%, 100% { 
        filter: drop-shadow(0 12px 24px rgba(255,179,0,0.6));
      }
      50% { 
        filter: drop-shadow(0 16px 32px rgba(255,179,0,0.8));
      }
    }
    
    /* é€²åŒ–ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
    .evolution-effect {
      position: absolute;
      inset: -20px;
      border: 2px solid #FFB300;
      border-radius: 50%;
      opacity: 0;
      animation: evolutionPulse 0.8s ease-out;
      pointer-events: none;
    }
    
    @keyframes evolutionPulse {
      0% {
        opacity: 1;
        transform: scale(0.8);
      }
      100% {
        opacity: 0;
        transform: scale(1.5);
      }
    }
    
    /* æŒ‡å·®ã—ãƒ•ãƒ¬ãƒ¼ãƒ  */
    .walk-frame.pointing {
      transition: opacity 0.3s ease;
    }
    
    /* GIFé¢¨ã‚³ãƒé€ã‚Šæ­©è¡Œï¼ˆ4ãƒ•ãƒ¬ãƒ¼ãƒ ï¼‰ */
    .walking-animation {
      pointer-events: none;
    }
    
    /* ãƒ•ãƒ¬ãƒ¼ãƒ åˆ‡ã‚Šæ›¿ãˆã®ã‚¹ãƒ ãƒ¼ã‚ºåŒ– */
    .walk-frame {
      transition: opacity 0.1s ease-out;
    }
    
    /* å·¦å³ã®å‘ãå¯¾å¿œ - å·¦å³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«åˆã‚ã›ã¦èª¿æ•´ */
    .tiny-character.facing-left .walking-animation-container {
      transform: scaleX(-1); /* å·¦å‘ãï¼ˆå·¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ï¼‰ */
    }
    
    .tiny-character.facing-right .walking-animation-container {
      transform: scaleX(1); /* å³å‘ãï¼ˆå³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ï¼‰ */
    }
    
    /* ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ¥é“ã®è‰² */
    .section-apps .path-area { background: #f0f8f0; }
    .section-company .path-area { background: #fff8f0; }
    .section-members .path-area { background: #f8f0f8; }
    .section-media .path-area { background: #f0f8ff; }
    .section-contact .path-area { background: #fff0f0; }
    
    .section-apps .path-line { background: #4CAF50; }
    .section-company .path-line { background: #FFB300; }
    .section-members .path-line { background: #9C27B0; }
    .section-media .path-line { background: #2196F3; }
    .section-contact .path-line { background: #FF5722; }
    
    /* é«˜é€Ÿæ­©è¡Œãƒ¢ãƒ¼ãƒ‰ - ã‚¹ãƒ ãƒ¼ã‚ºãªèµ°è¡Œ */
    .walking.fast-walking .walk-frame.frame1,
    .walking.fast-walking .walk-frame.frame2,
    .walking.fast-walking .walk-frame.frame3 {
      animation-duration: 0.3s !important;
    }
    
    /* ã‚«ãƒ¼ãƒ‰ãƒã‚¤ãƒ©ã‚¤ãƒˆåŠ¹æœ */
    .card.highlighted {
      transform: translateY(-15px) scale(1.05) !important;
      box-shadow: 
        0 25px 70px rgba(255,179,0,0.3),
        0 10px 35px rgba(255,179,0,0.2) !important;
      border-color: #FFB300 !important;
      animation: highlightPulse 1.5s ease-in-out infinite;
    }
    
    @keyframes highlightPulse {
      0%, 100% { 
        box-shadow: 
          0 25px 70px rgba(255,179,0,0.3),
          0 10px 35px rgba(255,179,0,0.2);
      }
      50% { 
        box-shadow: 
          0 30px 80px rgba(255,179,0,0.4),
          0 15px 40px rgba(255,179,0,0.3);
      }
    }
    
    /* è¦–ç·šã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
    @keyframes gazeFlash {
      0% { 
        opacity: 0;
        transform: rotate(var(--angle, 90deg)) scaleY(0);
      }
      50% {
        opacity: 1;
      }
      100% { 
        opacity: 0;
        transform: rotate(var(--angle, 90deg)) scaleY(1);
      }
    }
    
    /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ã®è»½é‡åŒ– */
    .scrolling .walk-frame {
      contain: strict;
      transform: translateZ(0);
    }
    
    /* ä½æ€§èƒ½ãƒ‡ãƒã‚¤ã‚¹å‘ã‘æœ€é©åŒ– */
    .low-performance-mode .walking .walk-frame.frame1,
    .low-performance-mode .walking .walk-frame.frame2,
    .low-performance-mode .walking .walk-frame.frame3 {
      animation-duration: 0.8s !important;
      will-change: auto;
    }
    
    .low-performance-mode .tiny-character {
      filter: none;
      contain: layout;
    }
    
    .low-performance-mode .weed {
      display: none;
    }
    
    .low-performance-mode .card {
      transition: transform 0.2s ease;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    
    .low-performance-mode .card:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
    }
    
    .low-performance-mode .cards-track {
      transition: none !important;
    }
    
    /* damso.comé¢¨ã®ã‚¯ãƒªãƒ¼ãƒ³ãªã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
    .cards-container::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        linear-gradient(to right, 
          rgba(255,255,255,0.9) 0%, 
          transparent 15%, 
          transparent 85%, 
          rgba(255,255,255,0.9) 100%);
      pointer-events: none;
      z-index: 2;
    }
    
    /* ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– */
    .card {
      will-change: transform, opacity, filter;
      backface-visibility: hidden;
      transform-origin: center center;
    }
    
    .cards-track {
      will-change: transform;
      backface-visibility: hidden;
      transform-origin: center center;
    }
    
    
    /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– - ãƒ¢ãƒã‚¤ãƒ«æœ€é©åŒ– */
    @media (max-width: 768px) {
      body {
        overflow: hidden;
        transform: scale(0.75);
        transform-origin: top left;
        width: 133.33%;
        height: 133.33%;
      }
      
      .logo { 
        font-size: 18px; 
        top: 12px; 
        left: 12px;
        z-index: 1001;
      }
      
      .main-content { 
        padding: 0 40px;
        height: 100vh;
        display: flex;
        align-items: center;
      }
      
      /* ãƒ¢ãƒã‚¤ãƒ«ç”¨ã‚«ãƒ¼ãƒ‰èª¿æ•´ - æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç¶­æŒ */
      .cards-container {
        height: 320px;
        width: 100%;
        overflow: hidden;
        max-width: 1000px;
      }
      
      .cards-track {
        gap: 16px;
        flex-direction: row;
      }
      
      .card { 
        min-width: 280px; 
        height: 320px; 
        padding: 30px 20px;
        border-radius: 16px;
      }
      
      .card-icon { 
        font-size: 48px;
        margin-bottom: 20px;
      }
      
      .card-title { 
        font-size: 22px;
        margin-bottom: 12px;
      }
      
      .card-description { 
        font-size: 15px;
        line-height: 1.5;
      }
      
      /* ãƒ¢ãƒã‚¤ãƒ«ç”¨æ£’äººé–“èª¿æ•´ */
      .tiny-character { 
        width: 70px; 
        height: 70px;
        bottom: 48px;
      }
      
      .walk-frame g {
        stroke-width: 5;
      }
      
      /* ãƒ¢ãƒã‚¤ãƒ«ç”¨é“èª¿æ•´ */
      .path-area {
        height: 48px;
      }
      
      .path-decoration {
        bottom: 64px;
        height: 16px;
      }
      
      /* ã‚«ãƒ¼ãƒ‰ã®ãƒ›ãƒãƒ¼ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’ç„¡åŠ¹åŒ– */
      .card:hover {
        transform: none;
        box-shadow: 
          0 2px 8px 0 rgba(0, 0, 0, 0.06);
      }
      
      /* ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã®èª¿æ•´ */
      .cards-container::after {
        background: 
          linear-gradient(to right, 
            rgba(255,255,255,0.95) 0%, 
            transparent 10%, 
            transparent 90%, 
            rgba(255,255,255,0.95) 100%);
      }
    }
    
    /* ç¸¦ç”»é¢ï¼ˆãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆï¼‰ãƒ¢ãƒ¼ãƒ‰ã§ã®è¿½åŠ ç¸®å°ºèª¿æ•´ */
    @media (max-width: 768px) and (orientation: portrait) {
      body {
        transform: scale(0.65);
        width: 153.85%;
        height: 153.85%;
      }
      
      .cards-container {
        height: 280px;
        max-width: 900px;
      }
      
      .tiny-character {
        width: 60px;
        height: 60px;
        bottom: 40px;
      }
      
      .path-area {
        height: 40px;
      }
    }
    
    /* ã‚¿ãƒƒãƒãƒ‡ãƒã‚¤ã‚¹ç”¨æœ€é©åŒ– */
    @media (hover: none) and (pointer: coarse) {
      .card:hover {
        transform: none !important;
      }
      
      .card:active {
        transform: 
          translateX(0px) 
          translateZ(30px) 
          rotateY(0deg) 
          scale(1.02) !important;
        transition: all 0.2s ease;
      }
      
      /* ã‚¿ãƒƒãƒæ™‚ã®é›‘è‰åå¿œ */
      .weed {
        animation-duration: 2s;
      }
    }
  </style>
</head>
<body class="section-apps loading">
  <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ -->
  <div class="loading-screen" id="loadingScreen">
    <div class="loading-content">
      <div class="logo-loading">
        <h1 class="company-name">ToMoreBeyond</h1>
        <p class="mission-text">é¢ç™½ã„ã“ã¨ã ã‘ã‚’ã™ã‚‹ã€‚å‹ã¨å…±ã«â€œé“ãªãé“â€ã‚’è¶Šãˆã‚‹</p>
      </div>
      
      <div class="path-drawing">
        <svg class="path-svg" viewBox="0 0 800 200">
          <defs>
            <linearGradient id="pathGradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color:#DAA520;stop-opacity:0" />
              <stop offset="50%" style="stop-color:#FFB300;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#DAA520;stop-opacity:0" />
            </linearGradient>
          </defs>
          
          <!-- æœªé–‹æ‹“ã®é“ -->
          <path class="unknown-path" d="M 0 100 Q 200 80 400 100 T 800 100" 
                stroke="#ddd" stroke-width="3" fill="none" stroke-dasharray="10,5" />
          
          <!-- é–‹æ‹“ã•ã‚Œã‚‹é“ -->
          <path class="drawing-path" d="M 0 100 Q 200 80 400 100 T 800 100" 
                stroke="url(#pathGradient)" stroke-width="6" fill="none" 
                stroke-dasharray="1600" stroke-dashoffset="1600" />
        </svg>
        
        <!-- é€²è¡Œä¸­ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ -->
        <div class="loading-character">
          <svg viewBox="0 0 100 150" class="char-svg">
            <g stroke="#FFB300" stroke-width="6" stroke-linecap="round" fill="none">
              <circle cx="50" cy="20" r="12" fill="#FFB300" stroke="none"/>
              <line x1="50" y1="32" x2="50" y2="65"/>
              <line x1="50" y1="40" x2="42" y2="52"/>
              <line x1="42" y1="52" x2="40" y2="68"/>
              <line x1="50" y1="40" x2="58" y2="52"/>
              <line x1="58" y1="52" x2="60" y2="68"/>
              <line x1="50" y1="65" x2="46" y2="87"/>
              <line x1="46" y1="87" x2="45" y2="110"/>
              <line x1="50" y1="65" x2="54" y2="87"/>
              <line x1="54" y1="87" x2="55" y2="110"/>
            </g>
          </svg>
        </div>
      </div>
      
      <div class="loading-progress">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <p class="loading-text" id="loadingText">æ—…ã®æº–å‚™ä¸­...</p>
      </div>
    </div>
  </div>
  
  <!-- å·¦ä¸Šãƒ­ã‚´ -->
  <a href="#" class="logo">ToMoreBeyond</a>
  
  <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼å‰Šé™¤ï¼ˆã‚·ãƒ³ãƒ—ãƒ«åŒ–ï¼‰ -->
  
  <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
  <main class="main-content">
    <div class="cards-container">
      <div class="cards-track" id="cardsTrack">
        <!-- ã‚«ãƒ¼ãƒ‰ã¯JavaScriptã§ç”Ÿæˆ -->
      </div>
    </div>
  </main>
  
  <!-- çœ‹æ¿ã‚·ã‚¹ãƒ†ãƒ  -->
  <div class="signpost-container" id="signpostContainer"></div>
  
  <!-- GIFé¢¨ã‚³ãƒé€ã‚Šæ­©è¡Œã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ£’äººé–“ -->
  <div class="tiny-character">
    <div class="walking-animation-container">
      
      <!-- ã‚¢ã‚¤ãƒ‰ãƒ«ãƒ•ãƒ¬ãƒ¼ãƒ : ç«‹ã¡å§¿å‹¢ -->
      <svg class="walk-frame idle" viewBox="0 0 100 150">
        <g stroke="#333" stroke-width="6" stroke-linecap="round" fill="none">
          <!-- é ­ -->
          <circle cx="50" cy="20" r="12" fill="#333" stroke="none"/>
          <!-- èƒ´ä½“ -->
          <line x1="50" y1="32" x2="50" y2="65"/>
          <!-- å·¦è…•ï¼ˆãƒªãƒ©ãƒƒã‚¯ã‚¹ï¼‰ -->
          <line x1="50" y1="40" x2="42" y2="52"/>
          <line x1="42" y1="52" x2="40" y2="68"/>
          <!-- å³è…•ï¼ˆãƒªãƒ©ãƒƒã‚¯ã‚¹ï¼‰ -->
          <line x1="50" y1="40" x2="58" y2="52"/>
          <line x1="58" y1="52" x2="60" y2="68"/>
          <!-- å·¦è„š -->
          <line x1="50" y1="65" x2="46" y2="87"/>
          <line x1="46" y1="87" x2="45" y2="110"/>
          <!-- å³è„š -->
          <line x1="50" y1="65" x2="54" y2="87"/>
          <line x1="54" y1="87" x2="55" y2="110"/>
        </g>
      </svg>
      
      <!-- ãƒ•ãƒ¬ãƒ¼ãƒ 1: æ­©è¡Œãƒãƒ¼ã‚ºï¼ˆå·¦è„šå‰ãƒ»ç›®æ¨™ã‚’è¦‹æ®ãˆã‚‹ï¼‰ -->
      <svg class="walk-frame frame1" viewBox="0 0 100 150">
        <g stroke="#333" stroke-width="6" stroke-linecap="round" fill="none">
          <!-- é ­ï¼ˆå‰æ–¹ã‚’è¦‹æ®ãˆã‚‹ï¼‰ -->
          <circle cx="52" cy="16" r="12" fill="#333" stroke="none"/>
          <!-- èƒ´ä½“ï¼ˆå‰é€²ã®æ„å¿—ï¼‰ -->
          <line x1="52" y1="28" x2="50" y2="62"/>
          <!-- å·¦è…•ï¼ˆå¾Œæ–¹ãƒ»åŠ›å¼·ãæŒ¯ã‚‹ï¼‰ -->
          <line x1="50" y1="36" x2="60" y2="46"/>
          <line x1="60" y1="46" x2="65" y2="62"/>
          <!-- å³è…•ï¼ˆå‰æ–¹ãƒ»ãƒãƒ©ãƒ³ã‚¹ï¼‰ -->
          <line x1="50" y1="36" x2="40" y2="46"/>
          <line x1="40" y1="46" x2="35" y2="62"/>
          <!-- å·¦è„šï¼ˆå¤§ããå‰é€²ï¼‰ -->
          <line x1="50" y1="62" x2="35" y2="82"/>
          <line x1="35" y1="82" x2="28" y2="108"/>
          <!-- å³è„šï¼ˆåŠ›å¼·ã„è¹´ã‚Šå‡ºã—ï¼‰ -->
          <line x1="50" y1="62" x2="62" y2="82"/>
          <line x1="62" y1="82" x2="70" y2="100"/>
        </g>
      </svg>
      
      <!-- ãƒ•ãƒ¬ãƒ¼ãƒ 2: æ­©è¡Œãƒãƒ¼ã‚ºï¼ˆä¸­é–“ç‚¹ãƒ»æ¨é€²åŠ›ï¼‰ -->
      <svg class="walk-frame frame2" viewBox="0 0 100 150">
        <g stroke="#333" stroke-width="6" stroke-linecap="round" fill="none">
          <!-- é ­ï¼ˆç›®æ¨™ã¸ã®é›†ä¸­ï¼‰ -->
          <circle cx="51" cy="15" r="12" fill="#333" stroke="none"/>
          <!-- èƒ´ä½“ï¼ˆå‰é€²ã‚¨ãƒãƒ«ã‚®ãƒ¼ï¼‰ -->
          <line x1="51" y1="27" x2="50" y2="61"/>
          <!-- å·¦è…•ï¼ˆãƒãƒ©ãƒ³ã‚¹èª¿æ•´ï¼‰ -->
          <line x1="50" y1="35" x2="44" y2="50"/>
          <line x1="44" y1="50" x2="42" y2="66"/>
          <!-- å³è…•ï¼ˆãƒªã‚ºãƒ ç¶­æŒï¼‰ -->
          <line x1="50" y1="35" x2="56" y2="50"/>
          <line x1="56" y1="50" x2="58" y2="66"/>
          <!-- å·¦è„šï¼ˆå®‰å®šã—ãŸæ”¯æŒï¼‰ -->
          <line x1="50" y1="61" x2="46" y2="82"/>
          <line x1="46" y1="82" x2="45" y2="108"/>
          <!-- å³è„šï¼ˆæ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—æº–å‚™ï¼‰ -->
          <line x1="50" y1="61" x2="54" y2="82"/>
          <line x1="54" y1="82" x2="55" y2="105"/>
        </g>
      </svg>
      
      <!-- ãƒ•ãƒ¬ãƒ¼ãƒ 3: æ­©è¡Œãƒãƒ¼ã‚ºï¼ˆå³è„šå‰ãƒ»ç¢ºå®Ÿãªå‰é€²ï¼‰ -->
      <svg class="walk-frame frame3" viewBox="0 0 100 150">
        <g stroke="#333" stroke-width="6" stroke-linecap="round" fill="none">
          <!-- é ­ï¼ˆæ±ºæ„ã‚’æŒã£ã¦å‰æ–¹æ³¨è¦–ï¼‰ -->
          <circle cx="53" cy="16" r="12" fill="#333" stroke="none"/>
          <!-- èƒ´ä½“ï¼ˆåŠ›å¼·ã„å‰é€²ï¼‰ -->
          <line x1="53" y1="28" x2="51" y2="62"/>
          <!-- å·¦è…•ï¼ˆå‰æ–¹ãƒ»ç›®æ¨™ã¸ã®æ„å¿—ï¼‰ -->
          <line x1="51" y1="36" x2="38" y2="46"/>
          <line x1="38" y1="46" x2="32" y2="62"/>
          <!-- å³è…•ï¼ˆå¾Œæ–¹ãƒ»æ¨é€²åŠ›ï¼‰ -->
          <line x1="51" y1="36" x2="64" y2="46"/>
          <line x1="64" y1="46" x2="70" y2="62"/>
          <!-- å·¦è„šï¼ˆå¾Œæ–¹ãƒ»æ¬¡ã¸ã®æº–å‚™ï¼‰ -->
          <line x1="51" y1="62" x2="38" y2="82"/>
          <line x1="38" y1="82" x2="30" y2="100"/>
          <!-- å³è„šï¼ˆå‰æ–¹ãƒ»å¤§èƒ†ãªä¸€æ­©ï¼‰ -->
          <line x1="51" y1="62" x2="64" y2="82"/>
          <line x1="64" y1="82" x2="72" y2="108"/>
        </g>
      </svg>
      
      <!-- ãƒ•ãƒ¬ãƒ¼ãƒ 4: æ­©è¡Œãƒãƒ¼ã‚ºï¼ˆãƒªã‚ºãƒ ã®è»¢æ›ç‚¹ï¼‰ -->
      <svg class="walk-frame frame4" viewBox="0 0 100 150">
        <g stroke="#333" stroke-width="6" stroke-linecap="round" fill="none">
          <!-- é ­ï¼ˆå‰æ–¹ã¸ã®æ„è­˜ï¼‰ -->
          <circle cx="50" cy="14" r="12" fill="#333" stroke="none"/>
          <!-- èƒ´ä½“ï¼ˆã‚¨ãƒãƒ«ã‚®ãƒ¼è“„ç©ï¼‰ -->
          <line x1="50" y1="26" x2="49" y2="61"/>
          <!-- å·¦è…•ï¼ˆãƒªã‚ºãƒ ä½œã‚Šï¼‰ -->
          <line x1="49" y1="34" x2="42" y2="48"/>
          <line x1="42" y1="48" x2="40" y2="64"/>
          <!-- å³è…•ï¼ˆãƒãƒ©ãƒ³ã‚¹ä¿æŒï¼‰ -->
          <line x1="49" y1="34" x2="56" y2="48"/>
          <line x1="56" y1="48" x2="58" y2="64"/>
          <!-- å·¦è„šï¼ˆæ¨é€²æº–å‚™ï¼‰ -->
          <line x1="49" y1="61" x2="47" y2="83"/>
          <line x1="47" y1="83" x2="46" y2="108"/>
          <!-- å³è„šï¼ˆå®‰å®šã—ãŸè¸ã¿è¾¼ã¿ï¼‰ -->
          <line x1="49" y1="61" x2="51" y2="83"/>
          <line x1="51" y1="83" x2="52" y2="108"/>
        </g>
      </svg>
      
    </div>
  </div>
  
  <script>
    // ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šã‚«ãƒ¼ãƒ‰å«ã‚€ï¼‰
    const cardsData = [
      // ã‚¢ãƒ—ãƒªã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šã‚«ãƒ¼ãƒ‰
      { icon: 'ğŸ“±', title: 'ã‚¢ãƒ—ãƒª', description: 'ç§ãŸã¡ã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ', section: 'apps', type: 'divider', link: '#' },
      { icon: 'ğŸ—ºï¸', title: 'TADATAKA', description: 'ç§»å‹•ãŒãã®ã¾ã¾æ—¥è¨˜ã«ãªã‚‹', section: 'apps', link: 'pages/tadataka.html' },
      { icon: 'ğŸš½', title: 'ToiRun', description: '"ä»Šã™ããƒˆã‚¤ãƒ¬"ã‚’æœ€çŸ­ã§æ¡ˆå†…', section: 'apps', link: 'pages/toirun.html' },
      { icon: 'ğŸ“', title: 'Meet in the Middle', description: 'æœ€é©ãªé›†åˆåœ°ç‚¹ã‚’æ¢ã™', section: 'apps', link: 'pages/midpoint.html' },
      
      // ä¼šç¤¾ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šã‚«ãƒ¼ãƒ‰
      { icon: 'ğŸ¢', title: 'ä¼šç¤¾', description: 'ToMoreBeyondã«ã¤ã„ã¦', section: 'company', type: 'divider', link: '#' },
      { icon: 'ğŸ¢', title: 'ä¼šç¤¾æ¦‚è¦', description: 'é“ãªãé“ã‚’åˆ‡ã‚Šé–‹ã', section: 'company', link: 'detail/company.html' },
      { icon: 'ğŸ¯', title: 'ãƒŸãƒƒã‚·ãƒ§ãƒ³', description: 'é¢ç™½ã„ã“ã¨ã ã‘ã‚’ã™ã‚‹', section: 'company', link: 'detail/mission.html' },
      
      // ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šã‚«ãƒ¼ãƒ‰
      { icon: 'ğŸ‘¥', title: 'ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼', description: 'ä¸€ç·’ã«æ­©ã‚€ä»²é–“ãŸã¡', section: 'members', type: 'divider', link: '#' },
      { icon: 'ğŸ‘¨â€ğŸ’»', title: 'å±±ç”°', description: 'CDO / ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼', section: 'members', link: 'detail/yamada.html' },
      { icon: 'ğŸš€', title: 'æ­£ç•™', description: 'CEO / ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢', section: 'members', link: 'detail/masadome.html' },
      { icon: 'ğŸ¨', title: 'å®‰è—¤', description: 'ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆ', section: 'members', link: 'detail/ando.html' },
      
      // ãƒ¡ãƒ‡ã‚£ã‚¢ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šã‚«ãƒ¼ãƒ‰
      { icon: 'ğŸ“¢', title: 'ãƒ¡ãƒ‡ã‚£ã‚¢', description: 'æƒ…å ±ç™ºä¿¡ã¨æ´»å‹•è¨˜éŒ²', section: 'media', type: 'divider', link: '#' },
      { icon: 'ğŸ“°', title: 'ãƒ–ãƒ­ã‚°', description: 'é–‹ç™ºã®è£è©±', section: 'media', link: 'detail/blog.html' },
      { icon: 'ğŸ¥', title: 'å‹•ç”»', description: 'ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆç´¹ä»‹', section: 'media', link: 'detail/video.html' },
      { icon: 'ğŸ“±', title: 'SNS', description: 'æ—¥ã€…ã®ç™ºä¿¡', section: 'media', link: 'detail/sns.html' },
      
      // ã‚³ãƒ³ã‚¿ã‚¯ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Šã‚«ãƒ¼ãƒ‰
      { icon: 'ğŸ“', title: 'ã‚³ãƒ³ã‚¿ã‚¯ãƒˆ', description: 'ã¤ãªãŒã‚Šã‚’å¤§åˆ‡ã«', section: 'contact', type: 'divider', link: '#' },
      { icon: 'ğŸ’Œ', title: 'ãŠå•ã„åˆã‚ã›', description: 'ãŠæ°—è»½ã«ã©ã†ã', section: 'contact', link: 'detail/contact.html' },
      
      // æ–°ã—ã„æ—…ã®ä¸€æ­©åŒºåˆ‡ã‚Šã‚«ãƒ¼ãƒ‰
      { icon: 'ğŸŒŸ', title: 'æ–°ã—ã„æ—…ã®ä¸€æ­©', description: 'ã•ã‚‰ãªã‚‹é“ãªãé“ã¸', section: 'newjourney', type: 'divider', link: '#' }
    ];
    
    class MinimalSite {
      constructor() {
        this.currentSection = 'apps';
        this.sections = ['apps', 'company', 'members', 'media', 'contact'];
        this.sectionIndex = 0;
        this.isScrolling = false;
        this.scrollTimer = null;
        this.baseScrollSpeed = 60;
        this.currentScrollSpeed = this.baseScrollSpeed;
        this.walkSpeed = 0.8;
        this.speedMultiplier = 1.0;
        this.isNavigating = false;
        
        // æ£’äººé–“ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç®¡ç†
        this.walkingInterval = null;
        this.pointingTimeout = null;
        this.currentWalkFrame = 0;
        this.walkFrames = ['frame1', 'frame2', 'frame3', 'frame4'];
        
        // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ç”¨ã®RAFç®¡ç†
        this.rafId = null;
        this.lastTime = 0;
        
        // æ–°ã—ã„æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ§‹é€ ç®¡ç†
        this.characterPosition = 0; // 0 = å·¦ç«¯, 1 = å³ç«¯
        this.totalJourneyWidth = window.innerWidth * 6; // 6ç”»é¢åˆ†ã®æ—…è·¯
        this.sectionCheckpoints = [
          { name: 'apps', position: 0.16, title: 'ã‚¢ãƒ—ãƒª' },
          { name: 'company', position: 0.32, title: 'ä¼šç¤¾' },
          { name: 'members', position: 0.48, title: 'ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼' },
          { name: 'media', position: 0.64, title: 'ãƒ¡ãƒ‡ã‚£ã‚¢' },
          { name: 'contact', position: 0.8, title: 'ã‚³ãƒ³ã‚¿ã‚¯ãƒˆ' },
          { name: 'newjourney', position: 0.96, title: 'æ–°ã—ã„æ—…ã®ä¸€æ­©' }
        ];
        this.currentCheckpoint = -1; // åˆæœŸçŠ¶æ…‹ã¯-1
        this.isAtCheckpoint = false;
        this.checkpointPauseTime = 2000; // 2ç§’é–“ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã§åœæ­¢
        
        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é€²åŒ–ã‚·ã‚¹ãƒ†ãƒ 
        this.evolutionLevel = 0; // 0-5ã®é€²åŒ–ãƒ¬ãƒ™ãƒ«
        this.evolutionThresholds = [0.2, 0.4, 0.6, 0.8, 1.0]; // é€²åŒ–ãŒèµ·ã“ã‚‹ä½ç½®
        
        // ã‚«ãƒ¼ãƒ‰ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç®¡ç†
        this.cardScrollTimeout = null;
        
        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç®¡ç†
        this.loadingProgress = 0;
        this.loadingMessages = [
          'æ—…ã®æº–å‚™ä¸­...',
          'é“ã‚’æ¢ã—ã¦ã„ã¾ã™...',
          'ã‚¢ãƒ—ãƒªã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...',
          'ãƒ¡ãƒ³ãƒãƒ¼ã‚’é›†ã‚ã¦ã„ã¾ã™...',
          'æœ€çµ‚æº–å‚™ä¸­...',
          'æ—…ç«‹ã¡ã®æ™‚ã§ã™ï¼'
        ];
        
        this.startLoading();
      }
      
      startLoading() {
        const loadingScreen = document.getElementById('loadingScreen');
        const progressFill = document.getElementById('progressFill');
        const loadingText = document.getElementById('loadingText');
        
        let progress = 0;
        let messageIndex = 0;
        
        const loadingInterval = setInterval(() => {
          progress += Math.random() * 15 + 5; // 5-20%ãšã¤é€²è¡Œ
          
          if (progress >= 100) {
            progress = 100;
            clearInterval(loadingInterval);
            
            // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å®Œäº†
            setTimeout(() => {
              this.completeLoading();
            }, 500);
          }
          
          // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼æ›´æ–°
          if (progressFill) {
            progressFill.style.width = `${progress}%`;
          }
          
          // ãƒ¡ãƒƒã‚·ãƒ¼ã‚¸æ›´æ–°
          if (loadingText && messageIndex < this.loadingMessages.length - 1) {
            const newIndex = Math.floor((progress / 100) * (this.loadingMessages.length - 1));
            if (newIndex > messageIndex) {
              messageIndex = newIndex;
              loadingText.textContent = this.loadingMessages[messageIndex];
            }
          }
        }, 300 + Math.random() * 400); // 300-700msé–“éš”
      }
      
      completeLoading() {
        const loadingScreen = document.getElementById('loadingScreen');
        const body = document.body;
        
        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ã‚’ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆ
        if (loadingScreen) {
          loadingScreen.classList.add('hidden');
        }
        
        // ãƒœãƒ‡ã‚£ã®çŠ¶æ…‹ã‚’å¤‰æ›´
        body.classList.remove('loading');
        body.classList.add('loaded');
        
        // ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®åˆæœŸåŒ–ã‚’é–‹å§‹
        setTimeout(() => {
          this.init();
        }, 300);
      }
      
      init() {
        this.createCards();
        this.setupEventListeners();
        this.createStonePattern();
        this.createPathDecorations();
        
        // ã‚«ãƒ¼ãƒ‰ãŒç¢ºå®Ÿã«è¡¨ç¤ºã•ã‚Œã¦ã‹ã‚‰åˆæœŸåŒ–
        setTimeout(() => {
          this.startAutoScroll();
          this.optimizePerformance();
        }, 100);
        
        // åˆæœŸçŠ¶æ…‹ã§ã‚¢ã‚¤ãƒ‰ãƒ«ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’è¡¨ç¤º
        setTimeout(() => {
          if (!this.isScrolling) {
            this.showIdleFrame();
          }
        }, 500); // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å¾Œã¯å°‘ã—é…ã‚‰ã›ã‚‹
      }
      
      createStonePattern() {
        const pattern = document.getElementById('stonePattern');
        if (!pattern) return;
        
        // çŸ³ãƒ–ãƒ­ãƒƒã‚¯ã‚’ç”Ÿæˆ
        const stoneCount = Math.ceil(window.innerWidth / 40) + 10;
        pattern.innerHTML = ''; // æ—¢å­˜ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚¯ãƒªã‚¢
        
        for (let i = 0; i < stoneCount; i++) {
          const stone = document.createElement('div');
          stone.className = 'stone-block';
          
          // ãƒ©ãƒ³ãƒ€ãƒ ãªå¹…ã§çŸ³ç•³æ„Ÿã‚’æ¼”å‡º
          const widthVariation = 50 + Math.random() * 30;
          stone.style.width = `${widthVariation}px`;
          
          // ãƒ©ãƒ³ãƒ€ãƒ ãªè‰²ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³
          const brightness = 0.9 + Math.random() * 0.2;
          stone.style.filter = `brightness(${brightness})`;
          
          pattern.appendChild(stone);
        }
      }
      
      createPathDecorations() {
        const decoration = document.getElementById('pathDecoration');
        if (!decoration) return;
        
        decoration.innerHTML = '';
        
        // ã‚ˆã‚Šå°‘ãªã„è£…é£¾ã§ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–
        for (let i = 0; i < 8; i++) {
          const item = document.createElement('div');
          item.className = 'decoration-item';
          
          // çŸ³ã®ã¿ã§ã‚·ãƒ³ãƒ—ãƒ«ã«
          item.classList.add('stone');
          
          // å›ºå®šä½ç½®ã§ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–
          const positions = [10, 20, 30, 45, 60, 70, 80, 90];
          item.style.left = `${positions[i]}%`;
          
          // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é…å»¶ã‚’æœ€å°é™ã«
          item.style.animationDelay = `${i * 0.5}s`;
          
          decoration.appendChild(item);
        }
      }
      
      optimizePerformance() {
        // ãƒ‡ãƒã‚¤ã‚¹èƒ½åŠ›ã‚’æ¤œå‡º
        this.detectDeviceCapability();
        
        // ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã®ãŸã‚ã®RAFæœ€é©åŒ–
        this.startRAFLoop();
        
        // ä¸è¦ãªã‚¤ãƒ™ãƒ³ãƒˆã‚’å‰Šé™¤ã™ã‚‹ãƒ‡ãƒã‚¦ãƒ³ã‚¹æ©Ÿèƒ½
        this.debounceCleanup();
        
        // GPUæœ€é©åŒ–
        this.enableGPUOptimizations();
      }
      
      detectDeviceCapability() {
        // ä½æ€§èƒ½ãƒ‡ãƒã‚¤ã‚¹ã‚’æ¤œå‡º
        this.isLowEndDevice = (
          (navigator.deviceMemory && navigator.deviceMemory <= 2) ||
          (navigator.hardwareConcurrency && navigator.hardwareConcurrency <= 2) ||
          /Android.*Chrome\/[0-8]/.test(navigator.userAgent) ||
          /iPhone.*OS [1-1][0-3]/.test(navigator.userAgent) ||
          window.innerWidth < 768
        );
        
        // ä¸­ç¨‹åº¦ã®æ€§èƒ½ãƒ‡ãƒã‚¤ã‚¹
        this.isMidEndDevice = (
          (navigator.deviceMemory && navigator.deviceMemory <= 4) ||
          (navigator.hardwareConcurrency && navigator.hardwareConcurrency <= 4)
        );
        
        if (this.isLowEndDevice) {
          document.body.classList.add('low-performance-mode');
        } else if (this.isMidEndDevice) {
          // ä¸­ç¨‹åº¦ã®æœ€é©åŒ–
          this.baseScrollSpeed = 40;
        }
      }
      
      enableGPUOptimizations() {
        // é‡è¦ãªè¦ç´ ã«GPUæœ€é©åŒ–ã‚’é©ç”¨
        const criticalElements = [
          '.tiny-character',
          '.stick-figure',
          '.cards-track',
          '.path-area'
        ];
        
        criticalElements.forEach(selector => {
          const elements = document.querySelectorAll(selector);
          elements.forEach(el => {
            el.style.transform = el.style.transform || 'translateZ(0)';
            el.style.willChange = 'transform';
            el.style.backfaceVisibility = 'hidden';
          });
        });
      }
      
      startRAFLoop() {
        const loop = (currentTime) => {
          if (currentTime - this.lastTime >= 16) { // 60FPSåˆ¶é™
            this.updateAnimations();
            this.lastTime = currentTime;
          }
          this.rafId = requestAnimationFrame(loop);
        };
        this.rafId = requestAnimationFrame(loop);
      }
      
      updateAnimations() {
        // å¿…è¦ã«å¿œã˜ã¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ›´æ–°
        if (this.isScrolling) {
          this.optimizeWalkingAnimation();
        }
      }
      
      debounceCleanup() {
        // 5ç§’ã”ã¨ã«ãƒ¡ãƒ¢ãƒªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
        setInterval(() => {
          if (!this.isScrolling && !this.isNavigating) {
            this.cleanupUnusedElements();
          }
        }, 5000);
      }
      
      cleanupUnusedElements() {
        // ä¸è¦ãªDOMè¦ç´ ã®æƒé™¤ï¼ˆãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–ï¼‰
        const unusedCards = document.querySelectorAll('.card[data-cleanup="true"]');
        unusedCards.forEach(card => {
          if (card.parentNode) {
            card.parentNode.removeChild(card);
          }
        });
      }
      
      createCards() {
        const track = document.getElementById('cardsTrack');
        if (!track) {
          console.error('Cards track not found!');
          return;
        }
        
        const cardsHTML = [];
        
        // 1ã‚»ãƒƒãƒˆã®ã¿ä½œæˆï¼ˆåŒºåˆ‡ã‚Šã‚«ãƒ¼ãƒ‰ã‚’å«ã‚€ãŸã‚ï¼‰
        cardsData.forEach(data => {
          const dividerClass = data.type === 'divider' ? ' divider' : '';
          cardsHTML.push(`
            <div class="card${dividerClass}" data-section="${data.section}" data-link="${data.link}" data-type="${data.type || 'normal'}">
              <div class="card-icon">${data.icon}</div>
              <h3 class="card-title">${data.title}</h3>
              <p class="card-description">${data.description}</p>
            </div>
          `);
        });
        
        track.innerHTML = cardsHTML.join('');
        
        // ã‚«ãƒ¼ãƒ‰ãŒç¢ºå®Ÿã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«
        track.style.visibility = 'visible';
        track.style.opacity = '1';
        track.style.display = 'flex';
        
        // ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
        track.querySelectorAll('.card').forEach(card => {
          card.addEventListener('click', () => {
            const link = card.dataset.link;
            const type = card.dataset.type;
            
            // åŒºåˆ‡ã‚Šã‚«ãƒ¼ãƒ‰ã®å ´åˆã¯ã‚¯ãƒªãƒƒã‚¯ã‚’ç„¡åŠ¹åŒ–
            if (type === 'divider') {
              return;
            }
            
            if (link && link !== '#') {
              window.location.href = link;
            }
          });
          
          // ãƒ›ãƒãƒ¼æ™‚ã®åå¿œï¼ˆåŒºåˆ‡ã‚Šã‚«ãƒ¼ãƒ‰ä»¥å¤–ï¼‰
          if (card.dataset.type !== 'divider') {
            card.addEventListener('mouseenter', () => {
              this.onCardHover(card);
            });
            
            card.addEventListener('mouseleave', () => {
              this.onCardLeave(card);
            });
          }
        });
      }
      
      setupEventListeners() {
        // å·¦å³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆ - æœ€é©åŒ–ã•ã‚ŒãŸãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
        let scrollTimeout;
        window.addEventListener('wheel', (e) => {
          e.preventDefault(); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’ç„¡åŠ¹åŒ–
          clearTimeout(scrollTimeout);
          
          // æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼ˆdeltaXï¼‰ã¾ãŸã¯ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’æ¨ªã«å¤‰æ›ï¼ˆdeltaYï¼‰
          const scrollDelta = e.deltaX !== 0 ? e.deltaX : e.deltaY;
          this.handleScroll(scrollDelta);
          
          // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«çµ‚äº†ã‚’æ¤œçŸ¥ã—ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
          scrollTimeout = setTimeout(() => {
            this.optimizeAfterScroll();
          }, 150);
        }, { passive: false }); // preventDefaultã®ãŸã‚false
        
        // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å‰Šé™¤ã«ã‚ˆã‚Šä¸è¦
        
        // ã‚¿ãƒƒãƒã‚¤ãƒ™ãƒ³ãƒˆï¼ˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã®å ´åˆã®ã¿ï¼‰ - å·¦å³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾å¿œ
        let touchStartX = 0;
        let touchTimeout;
        
        document.addEventListener('touchstart', (e) => {
          touchStartX = e.touches[0].clientX;
        }, { passive: true });
        
        document.addEventListener('touchmove', (e) => {
          const touchX = e.touches[0].clientX;
          const deltaX = touchStartX - touchX;
          
          // å·¦å³ã‚¹ãƒ¯ã‚¤ãƒ—ã‚’æ¤œå‡º
          if (Math.abs(deltaX) > 5) {
            e.preventDefault(); // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‹•ä½œã‚’é˜²ã
            clearTimeout(touchTimeout);
            this.handleScroll(deltaX * 0.8); // è‡ªç„¶ãªæ„Ÿåº¦
            
            touchTimeout = setTimeout(() => {
              this.optimizeAfterScroll();
            }, 150);
            
            // ã‚¿ãƒƒãƒä½ç½®ã‚’æ›´æ–°ï¼ˆé€£ç¶šçš„ãªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®ãŸã‚ï¼‰
            touchStartX = touchX;
          }
        }, { passive: false }); // preventDefaultã®ãŸã‚false
        
        // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ - å·¦å³ã‚­ãƒ¼å¯¾å¿œ
        document.addEventListener('keydown', (e) => {
          if (e.key === 'ArrowLeft') {
            e.preventDefault();
            this.handleScroll(-50); // å·¦æ–¹å‘
          }
          if (e.key === 'ArrowRight') {
            e.preventDefault();
            this.handleScroll(50); // å³æ–¹å‘
          }
          if (e.key === 'ArrowUp') {
            e.preventDefault();
            this.handleScroll(-50); // ä¸Šã‚­ãƒ¼ã‚‚å·¦æ–¹å‘
          }
          if (e.key === 'ArrowDown') {
            e.preventDefault();
            this.handleScroll(50); // ä¸‹ã‚­ãƒ¼ã‚‚å³æ–¹å‘
          }
        });
      }
      
      optimizeAfterScroll() {
        // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«çµ‚äº†å¾Œã®æœ€é©åŒ–å‡¦ç†
        this.speedMultiplier = 1.0;
        this.updateWalkingSpeed();
      }
      
      handleScroll(deltaX) {
        // æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®æ–°ã—ã„æ—…è·¯ã‚·ã‚¹ãƒ†ãƒ 
        const scrollDirection = deltaX > 0 ? 1 : -1; // æ­£ã®å€¤=å³æ–¹å‘ã€è² ã®å€¤=å·¦æ–¹å‘
        const baseSensitivity = this.isLowEndDevice ? 0.002 : 0.003; // æ„Ÿåº¦ã‚’ä¸‹ã’ã¦è‡ªç„¶ãªç§»å‹•ã«
        const movementAmount = Math.abs(deltaX) * baseSensitivity;
        
        // ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆåœæ­¢ä¸­ã¯ç§»å‹•ã‚’åˆ¶é™
        if (this.isAtCheckpoint) {
          return;
        }
        
        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä½ç½®ã‚’æ›´æ–°ï¼ˆ0ã€œ1ã®ç¯„å›²ï¼‰
        const oldPosition = this.characterPosition;
        this.characterPosition += scrollDirection * movementAmount;
        this.characterPosition = Math.max(0, Math.min(1, this.characterPosition));
        
        // å®Ÿéš›ã®ç”»é¢ä¸Šã§ã®ä½ç½®ã‚’è¨ˆç®—
        const screenWidth = window.innerWidth;
        const characterScreenX = 20 + (screenWidth - 120) * this.characterPosition; // 20pxã€œscreenWidth-100px
        
        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä½ç½®ã‚’æ›´æ–°
        const character = document.querySelector('.tiny-character');
        if (character && oldPosition !== this.characterPosition) {
          character.style.left = `${characterScreenX}px`;
          
          // å‘ãã‚’å¤‰æ›´
          if (scrollDirection > 0) {
            character.classList.add('facing-right');
            character.classList.remove('facing-left');
          } else {
            character.classList.add('facing-left');
            character.classList.remove('facing-right');
          }
          
          // ã‚«ãƒ¼ãƒ‰ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã®æ›´æ–°
          this.updateCardScroll();
          
          // æ­©è¡Œé–‹å§‹
          if (!this.isScrolling) {
            this.startJourneyWalking();
          }
        }
        
        // ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆæ¤œå‡º
        this.checkForCheckpoints();
        
        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é€²åŒ–ãƒã‚§ãƒƒã‚¯
        this.checkForEvolution();
        
        // ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤ºã®æ›´æ–°
        this.updateSectionDisplay();
        
        // å³ç«¯åˆ°é”æ™‚ã®ãƒªã‚»ãƒƒãƒˆå‡¦ç†
        if (this.characterPosition >= 1.0) {
          setTimeout(() => {
            this.resetJourney();
          }, 1000);
        }
        
        // æ­©è¡Œåœæ­¢ã‚¿ã‚¤ãƒãƒ¼
        clearTimeout(this.scrollTimer);
        this.scrollTimer = setTimeout(() => {
          this.stopJourneyWalking();
        }, 300);
      }
      
      updateCardPositionUltraSmooth() {
        // å‰å›ã®RAFã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«
        if (this.cardPositionRAF) {
          cancelAnimationFrame(this.cardPositionRAF);
        }
        
        // 60FPS ã§æ»‘ã‚‰ã‹ã«æ›´æ–°
        this.cardPositionRAF = requestAnimationFrame(() => {
          const track = document.getElementById('cardsTrack');
          if (track && track.children.length > 0) {
            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä¸­ã¯å®Œå…¨ã«æ»‘ã‚‰ã‹
            track.classList.add('scrolling');
            track.classList.remove('idle');
            
            // ã‚ˆã‚Šæ»‘ã‚‰ã‹ãªå¤‰æ›
            const smoothOffset = this.currentScrollOffset || 0;
            track.style.transform = `translateX(${smoothOffset}px) translateZ(0)`;
            track.style.visibility = 'visible';
            track.style.opacity = '1';
            
          }
        });
      }
      
      updateCardPositionSmooth() {
        if (this.cardPositionRAF) {
          cancelAnimationFrame(this.cardPositionRAF);
        }
        
        this.cardPositionRAF = requestAnimationFrame(() => {
          const track = document.getElementById('cardsTrack');
          if (track) {
            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä¸­ã¯ã‚¯ãƒ©ã‚¹ã‚’åˆ‡ã‚Šæ›¿ãˆã¦æ»‘ã‚‰ã‹ã«
            track.classList.add('scrolling');
            track.classList.remove('idle');
            track.style.setProperty('--scroll-offset', `${this.currentScrollOffset}px`);
          }
        });
      }
      
      updateCardPosition() {
        const track = document.getElementById('cardsTrack');
        if (track) {
          track.style.transform = `translateX(${this.currentScrollOffset}px) translateZ(0)`;
        }
      }
      
      updateCardScroll() {
        const track = document.getElementById('cardsTrack');
        if (!track) return;
        
        // æ£’äººé–“ã®é€²è¡Œåº¦ã«åŸºã¥ã„ã¦ã‚«ãƒ¼ãƒ‰ã‚’ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
        // å…¨ã‚«ãƒ¼ãƒ‰ã®å¹…ã‚’å–å¾—
        const cards = track.children;
        if (cards.length === 0) return;
        
        const cardWidth = 320; // ã‚«ãƒ¼ãƒ‰ã®æœ€å°å¹…
        const cardGap = 20; // ã‚«ãƒ¼ãƒ‰é–“ã®ã‚®ãƒ£ãƒƒãƒ—
        const totalCardsWidth = (cardWidth + cardGap) * cards.length;
        
        // æ£’äººé–“ã®ä½ç½®ã«åŸºã¥ã„ã¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é‡ã‚’è¨ˆç®—
        // characterPosition: 0-1 â†’ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é‡: 0 â†’ -(totalCardsWidth - containerWidth)
        const containerWidth = track.parentElement.offsetWidth;
        const maxScroll = Math.max(0, totalCardsWidth - containerWidth);
        const scrollOffset = -maxScroll * this.characterPosition;
        
        // ã‚¹ãƒ ãƒ¼ã‚ºãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é©ç”¨
        track.classList.add('scrolling');
        track.classList.remove('idle');
        track.style.transform = `translateX(${scrollOffset}px) translateZ(0)`;
        
        // å°‘ã—é…ã‚Œã¦ã‚¢ã‚¤ãƒ‰ãƒ«çŠ¶æ…‹ã«æˆ»ã™
        clearTimeout(this.cardScrollTimeout);
        this.cardScrollTimeout = setTimeout(() => {
          track.classList.remove('scrolling');
          track.classList.add('idle');
        }, 100);
      }
      
      
      updateCardSpeed() {
        const track = document.getElementById('cardsTrack');
        track.style.setProperty('--scroll-speed', `${this.currentScrollSpeed}s`);
      }
      
      
      resetToNormalSpeed() {
        this.speedMultiplier = 1.0;
        this.walkSpeed = 0.8;
        this.currentScrollSpeed = this.baseScrollSpeed;
        this.updateCardSpeed();
        this.updateWalkingSpeed();
      }
      
      optimizeWalkingAnimation() {
        // æ­©è¡Œã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®æœ€é©åŒ–
        const character = document.querySelector('.tiny-character');
        const container = document.querySelector('.cards-container');
        
        if (this.speedMultiplier > 2.0 && character) {
          // é«˜é€Ÿæ™‚ã¯ç°¡ç•¥åŒ–ã•ã‚ŒãŸã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
          character.classList.add('fast-walking');
          container.classList.add('fast-3d-mode');
        } else if (character) {
          character.classList.remove('fast-walking');
          container.classList.remove('fast-3d-mode');
        }
      }
      
      startRunning() {
        // æ—¢ã«æ­©è¡Œä¸­ã®å ´åˆã¯ä½•ã‚‚ã—ãªã„
        if (this.isScrolling) {
          return;
        }
        
        this.isScrolling = true;
        const container = document.querySelector('.tiny-character');
        
        // æ­©è¡ŒçŠ¶æ…‹ã‚’è¨­å®š
        if (container) {
          container.classList.add('walking');
        }
        
        // æŒ‡å·®ã—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åœæ­¢
        this.clearPointingAnimation();
        
        // æ­©è¡Œã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
        this.startWalkingAnimation();
      }
      
      clearPointingAnimation() {
        // æŒ‡å·®ã—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚¯ãƒªã‚¢
        if (this.pointingTimeout) {
          clearTimeout(this.pointingTimeout);
          this.pointingTimeout = null;
        }
        
        const pointingFrame = document.querySelector('.walk-frame.pointing');
        if (pointingFrame) {
          pointingFrame.classList.remove('active');
        }
      }
      
      startWalkingAnimation() {
        // æ—¢å­˜ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®‰å…¨ã«åœæ­¢
        this.clearWalkingAnimation();
        
        // åˆæœŸçŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
        this.currentWalkFrame = 0;
        this.walkFrames = ['frame1', 'frame2', 'frame3', 'frame4'];
        
        // ã‚¢ã‚¤ãƒ‰ãƒ«ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’éè¡¨ç¤º
        this.hideAllFrames();
        
        // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é€Ÿåº¦ã«åŸºã¥ã„ãŸãƒ•ãƒ¬ãƒ¼ãƒ é€Ÿåº¦
        const velocity = Math.max(1, this.scrollVelocity || 1);
        const baseFrameDuration = 200;
        const speedFactor = Math.min(2.5, Math.max(0.5, velocity / 15));
        const frameDuration = Math.max(100, baseFrameDuration / speedFactor);
        
        // æœ€åˆã®ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’è¡¨ç¤º
        this.showFrame(this.walkFrames[0]);
        
        // å®šæœŸçš„ãªãƒ•ãƒ¬ãƒ¼ãƒ æ›´æ–°
        this.walkingInterval = setInterval(() => {
          if (!this.isScrolling) {
            return;
          }
          
          this.nextWalkFrame();
        }, frameDuration);
      }
      
      nextWalkFrame() {
        // ç¾åœ¨ã®ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’éè¡¨ç¤º
        this.hideFrame(this.walkFrames[this.currentWalkFrame]);
        
        // æ¬¡ã®ãƒ•ãƒ¬ãƒ¼ãƒ ã¸
        this.currentWalkFrame = (this.currentWalkFrame + 1) % this.walkFrames.length;
        
        // æ–°ã—ã„ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’è¡¨ç¤º
        this.showFrame(this.walkFrames[this.currentWalkFrame]);
      }
      
      showFrame(frameClass) {
        const frame = document.querySelector(`.walk-frame.${frameClass}`);
        if (frame) {
          frame.classList.add('active');
        }
      }
      
      hideFrame(frameClass) {
        const frame = document.querySelector(`.walk-frame.${frameClass}`);
        if (frame) {
          frame.classList.remove('active');
        }
      }
      
      hideAllFrames() {
        // å…¨ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’éè¡¨ç¤º
        document.querySelectorAll('.walk-frame').forEach(frame => {
          frame.classList.remove('active');
        });
      }
      
      clearWalkingAnimation() {
        if (this.walkingInterval) {
          clearInterval(this.walkingInterval);
          this.walkingInterval = null;
        }
        
        // çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
        this.currentWalkFrame = 0;
        
        // å…¨æ­©è¡Œãƒ•ãƒ¬ãƒ¼ãƒ ã‚’éè¡¨ç¤º
        this.hideAllFrames();
      }
      
      stopRunning() {
        this.isScrolling = false;
        const container = document.querySelector('.tiny-character');
        const track = document.getElementById('cardsTrack');
        
        // æ­©è¡ŒçŠ¶æ…‹ã‚’ã‚¯ãƒªã‚¢
        if (container) {
          container.classList.remove('walking', 'fast-walking');
        }
        
        // æ­©è¡Œã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®‰å…¨ã«åœæ­¢
        this.clearWalkingAnimation();
        
        // ã‚¢ã‚¤ãƒ‰ãƒ«çŠ¶æ…‹ã«æˆ»ã‚‹
        setTimeout(() => {
          if (!this.isScrolling) {
            this.showIdleFrame();
            
            // æŒ‡å·®ã—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹
            setTimeout(() => {
              if (!this.isScrolling) {
                this.startPointingAnimation();
              }
            }, 300);
          }
        }, 100);
        
        // ã‚«ãƒ¼ãƒ‰ãƒˆãƒ©ãƒƒã‚¯ã‚’ã‚¢ã‚¤ãƒ‰ãƒ«çŠ¶æ…‹ã«
        if (track) {
          track.classList.remove('scrolling');
          track.classList.add('idle');
        }
      }
      
      showIdleFrame() {
        // å…¨ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’éè¡¨ç¤º
        this.hideAllFrames();
        
        // ã‚¢ã‚¤ãƒ‰ãƒ«ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’è¡¨ç¤º
        const idleFrame = document.querySelector('.walk-frame.idle');
        if (idleFrame) {
          idleFrame.classList.add('active');
        }
      }
      
      startPointingAnimation() {
        // æ­©è¡Œä¸­ã¯æŒ‡å·®ã—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã‚ãªã„
        if (this.isScrolling) {
          return;
        }
        
        const character = document.querySelector('.tiny-character');
        if (!character) {
          return;
        }
        
        // ç¾åœ¨è¡¨ç¤ºä¸­ã®ã‚«ãƒ¼ãƒ‰ã‚’å–å¾—
        const viewportCenter = window.innerWidth / 2;
        const cards = document.querySelectorAll('.card');
        let closestCard = null;
        let minDistance = Infinity;
        
        cards.forEach(card => {
          const rect = card.getBoundingClientRect();
          const cardCenter = rect.left + rect.width / 2;
          const distance = Math.abs(cardCenter - viewportCenter);
          
          if (distance < minDistance && rect.left > 0 && rect.right < window.innerWidth) {
            minDistance = distance;
            closestCard = card;
          }
        });
        
        if (closestCard) {
          // æŒ‡å·®ã—ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’ä½œæˆ
          this.showPointingFrame(closestCard);
          
          // è¦–ç·šã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
          this.createGazeEffect(closestCard);
        }
      }
      
      showPointingFrame(targetCard) {
        // æ­©è¡Œä¸­ã¯æŒ‡å·®ã—ã—ãªã„
        if (this.isScrolling) {
          return;
        }
        
        // ã‚¢ã‚¤ãƒ‰ãƒ«ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’éè¡¨ç¤º
        this.hideAllFrames();
        
        // æŒ‡å·®ã—ãƒ•ãƒ¬ãƒ¼ãƒ ã‚’ä½œæˆã¾ãŸã¯æ›´æ–°
        let pointingFrame = document.querySelector('.walk-frame.pointing');
        if (!pointingFrame) {
          pointingFrame = this.createPointingFrame();
          const container = document.querySelector('.walking-animation-container');
          if (container) {
            container.appendChild(pointingFrame);
          }
        }
        
        if (pointingFrame) {
          pointingFrame.classList.add('active');
        }
        
        // ã‚«ãƒ¼ãƒ‰ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ
        if (targetCard) {
          targetCard.classList.add('highlighted');
        }
        
        // ä¸€å®šæ™‚é–“å¾Œã«ã‚¢ã‚¤ãƒ‰ãƒ«ã«æˆ»ã‚‹
        this.pointingTimeout = setTimeout(() => {
          if (!this.isScrolling) {
            if (pointingFrame) {
              pointingFrame.classList.remove('active');
            }
            if (targetCard) {
              targetCard.classList.remove('highlighted');
            }
            this.showIdleFrame();
          }
        }, 2000);
      }
      
      createPointingFrame() {
        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
        svg.setAttribute('class', 'walk-frame pointing');
        svg.setAttribute('viewBox', '0 0 100 150');
        
        svg.innerHTML = `
          <g stroke="#333" stroke-width="6" stroke-linecap="round" fill="none">
            <!-- é ­ï¼ˆã‚«ãƒ¼ãƒ‰ã‚’è¦‹ä¸Šã’ã‚‹ï¼‰ -->
            <circle cx="50" cy="15" r="12" fill="#333" stroke="none"/>
            <!-- èƒ´ä½“ï¼ˆå°‘ã—å¾Œå‚¾ï¼‰ -->
            <line x1="50" y1="27" x2="48" y2="62"/>
            <!-- å·¦è…•ï¼ˆæŒ‡å·®ã—ï¼‰ -->
            <line x1="48" y1="35" x2="30" y2="25"/>
            <line x1="30" y1="25" x2="20" y2="20"/>
            <!-- äººå·®ã—æŒ‡ -->
            <line x1="20" y1="20" x2="15" y2="18" stroke-width="4"/>
            <!-- å³è…•ï¼ˆè‡ªç„¶ã«ä¸‹ã‚ã™ï¼‰ -->
            <line x1="48" y1="35" x2="55" y2="50"/>
            <line x1="55" y1="50" x2="58" y2="68"/>
            <!-- å·¦è„š -->
            <line x1="48" y1="62" x2="45" y2="85"/>
            <line x1="45" y1="85" x2="44" y2="110"/>
            <!-- å³è„š -->
            <line x1="48" y1="62" x2="51" y2="85"/>
            <line x1="51" y1="85" x2="52" y2="110"/>
          </g>
        `;
        
        return svg;
      }
      
      createGazeEffect(targetCard) {
        const effect = document.createElement('div');
        effect.className = 'gaze-effect';
        
        const rect = targetCard.getBoundingClientRect();
        const characterPos = document.querySelector('.tiny-character').getBoundingClientRect();
        
        // è¦–ç·šã®è§’åº¦ã‚’è¨ˆç®—
        const angle = Math.atan2(
          rect.top + rect.height / 2 - characterPos.top,
          rect.left + rect.width / 2 - characterPos.left
        ) * 180 / Math.PI;
        
        effect.style.cssText = `
          position: fixed;
          left: ${characterPos.left + characterPos.width / 2}px;
          top: ${characterPos.top + 20}px;
          width: 2px;
          height: ${Math.sqrt(
            Math.pow(rect.left + rect.width / 2 - characterPos.left - characterPos.width / 2, 2) +
            Math.pow(rect.top + rect.height / 2 - characterPos.top - 20, 2)
          )}px;
          background: linear-gradient(to bottom, rgba(255, 179, 0, 0.8), transparent);
          transform-origin: top;
          transform: rotate(${angle + 90}deg);
          pointer-events: none;
          animation: gazeFlash 0.5s ease-out;
        `;
        
        document.body.appendChild(effect);
        
        setTimeout(() => {
          effect.remove();
        }, 500);
      }
      
      
      navigateToSection(sectionName) {
        if (this.currentSection === sectionName) return;
        
        this.isNavigating = true;
        
        // é«˜é€Ÿæ­©è¡Œã§ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ç§»å‹•
        this.speedMultiplier = 3.0;
        this.walkSpeed = 0.25;
        this.currentScrollSpeed = 15;
        
        this.updateCardPosition();
        
        // ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆ
        setTimeout(() => {
          this.changeSection(sectionName);
          
          // é€šå¸¸çŠ¶æ…‹ã«æˆ»ã™
          setTimeout(() => {
            this.isNavigating = false;
          }, 800);
        }, 400);
      }
      
      changeSection(sectionName) {
        if (this.currentSection === sectionName) return;
        
        this.currentSection = sectionName;
        document.body.className = `section-${sectionName}`;
        
        // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ›´æ–°
        document.querySelectorAll('.nav-item').forEach(nav => {
          nav.classList.toggle('active', nav.dataset.section === sectionName);
        });
        
        this.sectionIndex = this.sections.indexOf(sectionName);
        
        // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ç‰¹æœ‰ã®ã‚«ãƒ¼ãƒ‰ã‚’å¼·èª¿è¡¨ç¤º
        this.highlightSectionCards(sectionName);
      }
      
      highlightSectionCards(sectionName) {
        const allCards = document.querySelectorAll('.card');
        allCards.forEach(card => {
          if (card.dataset.section === sectionName) {
            card.style.transform = 'scale(1.05)';
            card.style.borderColor = '#4CAF50';
            setTimeout(() => {
              card.style.transform = '';
              card.style.borderColor = '';
            }, 1000);
          }
        });
      }
      
      nextSection() {
        this.sectionIndex = (this.sectionIndex + 1) % this.sections.length;
        this.changeSection(this.sections[this.sectionIndex]);
      }
      
      prevSection() {
        this.sectionIndex = (this.sectionIndex - 1 + this.sections.length) % this.sections.length;
        this.changeSection(this.sections[this.sectionIndex]);
      }
      
      startAutoScroll() {
        // æ–°ã—ã„æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ—…è·¯ã®åˆæœŸåŒ–
        this.characterPosition = 0;
        this.currentCheckpoint = -1;
        this.isAtCheckpoint = false;
        
        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’å·¦ç«¯ï¼ˆã‚¹ã‚¿ãƒ¼ãƒˆåœ°ç‚¹ï¼‰ã«é…ç½®
        const character = document.querySelector('.tiny-character');
        if (character) {
          character.style.left = '20px';
          character.classList.add('facing-right'); // åˆæœŸã¯å³å‘ã
        }
        
        // ã‚«ãƒ¼ãƒ‰ã®åˆæœŸè¡¨ç¤ºçŠ¶æ…‹ã‚’è¨­å®š
        const track = document.getElementById('cardsTrack');
        if (track) {
          track.classList.add('idle');
          track.classList.remove('scrolling');
          track.style.visibility = 'visible';
          track.style.opacity = '1';
          
          // ã‚«ãƒ¼ãƒ‰ãŒç¢ºå®Ÿã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«å¼·åˆ¶çš„ã«å†æç”»
          track.offsetHeight;
        }
        
        // åˆæœŸã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤ºã®æ›´æ–°
        this.updateSectionDisplay();
        
        // åˆæœŸã‚«ãƒ¼ãƒ‰ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½ç½®è¨­å®š
        this.updateCardScroll();
      }
      
      onCardHover(card) {
        const character = document.querySelector('.tiny-character');
        if (!character || this.isScrolling) return;
        
        // æ£’äººé–“ãŒã‚«ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹
        const rect = card.getBoundingClientRect();
        const characterRect = character.getBoundingClientRect();
        
        // ã‚«ãƒ¼ãƒ‰ãŒç”»é¢å†…ã«ã‚ã‚‹å ´åˆã®ã¿åå¿œ
        if (rect.left > 0 && rect.right < window.innerWidth) {
          // é ­ã ã‘å‚¾ã‘ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
          const lookDirection = rect.left < characterRect.left ? 'left' : 'right';
          character.classList.add(`looking-${lookDirection}`);
          
          // å°ã•ãªã‚¸ãƒ£ãƒ³ãƒ—
          character.style.transform = 'translateX(-50%) translateY(-5px) translateZ(0)';
        }
      }
      
      onCardLeave(card) {
        const character = document.querySelector('.tiny-character');
        if (!character) return;
        
        // é€šå¸¸ã®çŠ¶æ…‹ã«æˆ»ã‚‹
        character.classList.remove('looking-left', 'looking-right');
        character.style.transform = 'translateZ(0)';
      }
      
      // æ–°ã—ã„æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ—…è·¯ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ¡ã‚½ãƒƒãƒ‰
      startJourneyWalking() {
        this.isScrolling = true;
        const character = document.querySelector('.tiny-character');
        
        if (character) {
          character.classList.add('walking', 'journey-mode');
          character.classList.remove('at-checkpoint');
        }
        
        this.startWalkingAnimation();
      }
      
      stopJourneyWalking() {
        this.isScrolling = false;
        const character = document.querySelector('.tiny-character');
        
        if (character) {
          character.classList.remove('walking', 'journey-mode');
        }
        
        this.clearWalkingAnimation();
        
        setTimeout(() => {
          if (!this.isScrolling) {
            this.showIdleFrame();
          }
        }, 100);
      }
      
      checkForCheckpoints() {
        const tolerance = 0.05; // 5%ã®è¨±å®¹ç¯„å›²
        
        for (let i = 0; i < this.sectionCheckpoints.length; i++) {
          const checkpoint = this.sectionCheckpoints[i];
          const distance = Math.abs(this.characterPosition - checkpoint.position);
          
          if (distance <= tolerance && i !== this.currentCheckpoint) {
            this.reachCheckpoint(i);
            break;
          }
        }
      }
      
      reachCheckpoint(checkpointIndex) {
        this.currentCheckpoint = checkpointIndex;
        this.isAtCheckpoint = true;
        
        const checkpoint = this.sectionCheckpoints[checkpointIndex];
        const character = document.querySelector('.tiny-character');
        
        if (character) {
          character.classList.add('at-checkpoint');
          // ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆã§ä¸€æ™‚åœæ­¢
          this.stopJourneyWalking();
        }
        
        // ã‚»ã‚¯ã‚·ãƒ§ãƒ³å¤‰æ›´
        this.changeSection(checkpoint.name);
        
        // 2ç§’å¾Œã«ç§»å‹•å†é–‹å¯èƒ½
        setTimeout(() => {
          this.isAtCheckpoint = false;
          if (character) {
            character.classList.remove('at-checkpoint');
          }
        }, this.checkpointPauseTime);
        
      }
      
      
      updateSectionDisplay() {
        // ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ä½ç½®ã«åŸºã¥ã„ã¦ã‚«ãƒ¼ãƒ‰è¡¨ç¤ºã‚’èª¿æ•´
        const cards = document.querySelectorAll('.card');
        const currentSection = this.getCurrentSectionFromPosition();
        
        cards.forEach(card => {
          const cardSection = card.dataset.section;
          const cardType = card.dataset.type;
          
          // åŒºåˆ‡ã‚Šã‚«ãƒ¼ãƒ‰ã¯å¸¸ã«ç›®ç«‹ã¤ã‚ˆã†ã«è¡¨ç¤º
          if (cardType === 'divider') {
            if (cardSection === currentSection) {
              card.style.opacity = '1';
              card.style.transform = 'scale(1)';
            } else {
              card.style.opacity = '0.9';
              card.style.transform = 'scale(0.98)';
            }
          } else {
            // é€šå¸¸ã®ã‚«ãƒ¼ãƒ‰
            if (cardSection === currentSection) {
              card.style.opacity = '1';
              card.style.transform = 'scale(1)';
            } else {
              card.style.opacity = '0.8';
              card.style.transform = 'scale(0.98)';
            }
          }
        });
      }
      
      getCurrentSectionFromPosition() {
        if (this.characterPosition < 0.16) return 'apps';
        if (this.characterPosition < 0.32) return 'company';
        if (this.characterPosition < 0.48) return 'members';
        if (this.characterPosition < 0.64) return 'media';
        if (this.characterPosition < 0.8) return 'contact';
        return 'newjourney';
      }
      
      resetJourney() {
        // å³ç«¯åˆ°é”å¾Œã®ãƒªã‚»ãƒƒãƒˆ
        this.characterPosition = 0;
        this.currentCheckpoint = -1;
        this.isAtCheckpoint = false;
        this.evolutionLevel = 0;
        
        const character = document.querySelector('.tiny-character');
        if (character) {
          character.style.left = '20px';
          character.classList.remove('facing-left', 'facing-right', 'at-checkpoint', 'journey-mode');
          character.classList.add('facing-right'); // æ—…ç«‹ã¡ã¯å³å‘ã
          
          // é€²åŒ–ãƒ¬ãƒ™ãƒ«ã‚’ãƒªã‚»ãƒƒãƒˆ
          for (let i = 1; i <= 5; i++) {
            character.classList.remove(`evolution-level-${i}`);
          }
        }
        
        // ã‚«ãƒ¼ãƒ‰ã®è¡¨ç¤ºã‚’ãƒªã‚»ãƒƒãƒˆ
        this.updateSectionDisplay();
        
        // ãƒªã‚»ãƒƒãƒˆå®Œäº†ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
        this.showResetEffect();
      }
      
      checkForEvolution() {
        for (let i = 0; i < this.evolutionThresholds.length; i++) {
          if (this.characterPosition >= this.evolutionThresholds[i] && this.evolutionLevel === i) {
            this.evolveCharacter(i + 1);
            break;
          }
        }
      }
      
      evolveCharacter(newLevel) {
        this.evolutionLevel = newLevel;
        const character = document.querySelector('.tiny-character');
        
        if (character) {
          // å‰ã®é€²åŒ–ãƒ¬ãƒ™ãƒ«ã‚’å‰Šé™¤
          for (let i = 1; i <= 5; i++) {
            character.classList.remove(`evolution-level-${i}`);
          }
          
          // æ–°ã—ã„é€²åŒ–ãƒ¬ãƒ™ãƒ«ã‚’é©ç”¨
          character.classList.add(`evolution-level-${newLevel}`);
          
          // é€²åŒ–ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’è¡¨ç¤º
          this.showEvolutionEffect(character, newLevel);
        }
      }
      
      showEvolutionEffect(character, level) {
        const effect = document.createElement('div');
        effect.className = 'evolution-effect';
        character.appendChild(effect);
        
        setTimeout(() => {
          effect.remove();
        }, 800);
      }
      
      
      showResetEffect() {
        const effect = document.createElement('div');
        effect.className = 'reset-notification';
        effect.textContent = 'æ–°ã—ã„æ—…è·¯ã‚’æ­©ã¿å§‹ã‚ã¾ã™...';
        effect.style.cssText = `
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: linear-gradient(135deg, #4CAF50, #45A049);
          color: white;
          padding: 20px 40px;
          border-radius: 50px;
          font-size: 1.3rem;
          font-weight: 600;
          box-shadow: 0 8px 32px rgba(76, 175, 80, 0.3);
          z-index: 2000;
          opacity: 0;
          animation: resetPop 3s ease forwards;
        `;
        
        document.body.appendChild(effect);
        
        setTimeout(() => {
          effect.remove();
        }, 3000);
      }
    }
    
    // çœ‹æ¿ä½œæˆã‚·ã‚¹ãƒ†ãƒ 
    function createSignposts() {
      const container = document.getElementById('signpostContainer');
      if (!container) return;
      
      const signposts = [
        { label: 'ã‚¹ã‚¿ãƒ¼ãƒˆ', position: 0, icon: 'ğŸ' },
        { label: 'ä¼šç¤¾', position: 20, icon: 'ğŸ¢' },
        { label: 'ã‚¢ãƒ—ãƒª', position: 36, icon: 'ğŸ“±' },
        { label: 'ãƒ¡ãƒ³ãƒãƒ¼', position: 52, icon: 'ğŸ‘¥' },
        { label: 'ãƒ¡ãƒ‡ã‚£ã‚¢', position: 68, icon: 'ğŸ“º' },
        { label: 'ã‚³ãƒ³ã‚¿ã‚¯ãƒˆ', position: 84, icon: 'ğŸ“§' },
        { label: 'ã‚´ãƒ¼ãƒ«', position: 100, icon: 'ğŸ¯' }
      ];
      
      signposts.forEach(signpost => {
        const signpostElement = document.createElement('div');
        signpostElement.className = 'signpost';
        signpostElement.style.left = `${signpost.position}%`;
        signpostElement.innerHTML = `
          <div class="signpost-pole"></div>
          <div class="signpost-board">
            <div class="signpost-icon">${signpost.icon}</div>
            <div class="signpost-label">${signpost.label}</div>
          </div>
        `;
        container.appendChild(signpostElement);
      });
    }
    
    // åˆæœŸåŒ–
    document.addEventListener('DOMContentLoaded', () => {
      createSignposts();
      new MinimalSite();
    });
  </script>
</body>
</html>