<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ToMoreBeyond - 面白いことだけをする。友と共に道なき道を越える</title>
  <meta name="description" content="ToMoreBeyondは最先端のAI技術とイノベーションで、より良い未来を創造するテクノロジーカンパニーです。">
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #ffffff;
      overflow-x: hidden;
      min-height: 100vh;
      position: relative;
    }
    
    /* 左上ロゴ */
    .logo {
      position: fixed;
      top: 30px;
      left: 30px;
      z-index: 1000;
      font-size: 24px;
      font-weight: 600;
      color: #333;
      text-decoration: none;
    }
    
    /* 右上ナビゲーション */
    .nav {
      position: fixed;
      top: 30px;
      right: 30px;
      z-index: 1000;
      display: flex;
      gap: 24px;
    }
    
    .nav-item {
      font-size: 16px;
      color: #666;
      text-decoration: none;
      transition: color 0.2s ease;
    }
    
    .nav-item:hover,
    .nav-item.active {
      color: #333;
    }
    
    /* メインコンテンツ */
    .main-content {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 50px;
    }
    
    /* damso.com風カードコンテナ */
    .cards-container {
      width: 100%;
      max-width: 1200px;
      height: 400px;
      position: relative;
      overflow: hidden;
    }
    
    .cards-track {
      display: flex;
      gap: 20px;
      height: 100%;
      animation: damsoScroll var(--scroll-speed, 45s) linear infinite;
      will-change: transform;
    }
    
    @keyframes damsoScroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }
    
    /* damso.com風シンプルカード */
    .card {
      min-width: 280px;
      height: 350px;
      background: #ffffff;
      border: 1px solid #e8e8e8;
      border-radius: 8px;
      padding: 30px;
      flex-shrink: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      position: relative;
      box-shadow: 0 2px 12px rgba(0,0,0,0.05);
    }
    
    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.15);
      border-color: #d0d0d0;
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, 
        rgba(255,255,255,0) 0%, 
        rgba(255,255,255,0.1) 50%, 
        rgba(255,255,255,0) 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
      border-radius: 8px;
    }
    
    .card:hover::before {
      opacity: 1;
    }
    
    .card-icon {
      font-size: 48px;
      margin-bottom: 24px;
    }
    
    .card-title {
      font-size: 24px;
      font-weight: 600;
      color: #333;
      margin-bottom: 12px;
    }
    
    .card-description {
      font-size: 16px;
      color: #666;
      line-height: 1.5;
    }
    
    /* シンプルな細い道 */
    .path-area {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 8px;
      z-index: 100;
      background: #f0f0f0;
      border-top: 1px solid #e0e0e0;
    }
    
    /* 道の中央線 */
    .path-line {
      position: absolute;
      bottom: 3px;
      left: 0;
      width: 100%;
      height: 2px;
      background: #d0d0d0;
      box-shadow: 0 1px 1px rgba(0,0,0,0.1);
    }
    
    /* 時々現れる雑草 */
    .weeds {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      pointer-events: none;
    }
    
    .weed {
      position: absolute;
      bottom: 2px;
      font-size: 8px;
      color: #4CAF50;
      animation: weedSway 4s ease-in-out infinite;
      transform-origin: bottom center;
    }
    
    .weed:nth-child(1) { left: 8%; animation-delay: 0s; }
    .weed:nth-child(2) { left: 23%; animation-delay: -1s; }
    .weed:nth-child(3) { left: 41%; animation-delay: -2s; }
    .weed:nth-child(4) { left: 67%; animation-delay: -0.5s; }
    .weed:nth-child(5) { left: 89%; animation-delay: -1.5s; }
    
    @keyframes weedSway {
      0%, 100% { transform: rotate(-2deg); }
      50% { transform: rotate(2deg); }
    }
    
    /* 大きな棒人間（100px height） - 道の上に立つ */
    .tiny-character {
      position: fixed;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 100px;
      z-index: 150;
      filter: drop-shadow(0 3px 6px rgba(0,0,0,0.2));
    }
    
    .stick-figure {
      width: 100%;
      height: 100%;
      stroke: #333;
      stroke-width: 3;
      fill: none;
      stroke-linecap: round;
      stroke-linejoin: round;
    }
    
    .stick-figure circle {
      fill: #333;
    }
    
    /* 自然な歩行アニメーション（GIF参考） */
    .stick-figure {
      animation: naturalWalkBounce 1.2s infinite ease-in-out;
    }
    
    @keyframes naturalWalkBounce {
      0% { transform: translateY(0px); }
      25% { transform: translateY(-1px); }
      50% { transform: translateY(0px); }
      75% { transform: translateY(-1px); }
      100% { transform: translateY(0px); }
    }
    
    /* 腕の自然な振り（対称的な動き） */
    .left-arm {
      animation: naturalLeftArm 1.2s infinite ease-in-out;
      transform-origin: 50px 25px;
    }
    
    .right-arm {
      animation: naturalRightArm 1.2s infinite ease-in-out;
      transform-origin: 50px 25px;
    }
    
    @keyframes naturalLeftArm {
      0% { transform: rotate(-25deg); }
      25% { transform: rotate(-10deg); }
      50% { transform: rotate(25deg); }
      75% { transform: rotate(10deg); }
      100% { transform: rotate(-25deg); }
    }
    
    @keyframes naturalRightArm {
      0% { transform: rotate(25deg); }
      25% { transform: rotate(10deg); }
      50% { transform: rotate(-25deg); }
      75% { transform: rotate(-10deg); }
      100% { transform: rotate(25deg); }
    }
    
    /* 脚の自然な歩行（より大きな動き） */
    .left-leg {
      animation: naturalLeftLeg 1.2s infinite ease-in-out;
      transform-origin: 50px 65px;
    }
    
    .right-leg {
      animation: naturalRightLeg 1.2s infinite ease-in-out;
      transform-origin: 50px 65px;
    }
    
    @keyframes naturalLeftLeg {
      0% { transform: rotate(-20deg); }
      25% { transform: rotate(-5deg); }
      50% { transform: rotate(30deg); }
      75% { transform: rotate(15deg); }
      100% { transform: rotate(-20deg); }
    }
    
    @keyframes naturalRightLeg {
      0% { transform: rotate(30deg); }
      25% { transform: rotate(15deg); }
      50% { transform: rotate(-20deg); }
      75% { transform: rotate(-5deg); }
      100% { transform: rotate(30deg); }
    }
    
    /* 走行モード（スクロール時） */
    .running .stick-figure {
      animation: naturalRunBounce var(--walk-speed, 0.6s) infinite ease-in-out;
    }
    
    @keyframes naturalRunBounce {
      0% { transform: translateY(0px); }
      25% { transform: translateY(-3px); }
      50% { transform: translateY(0px); }
      75% { transform: translateY(-2px); }
      100% { transform: translateY(0px); }
    }
    
    .running .left-arm {
      animation: naturalRunLeftArm var(--walk-speed, 0.6s) infinite ease-in-out;
    }
    
    .running .right-arm {
      animation: naturalRunRightArm var(--walk-speed, 0.6s) infinite ease-in-out;
    }
    
    .running .left-leg {
      animation: naturalRunLeftLeg var(--walk-speed, 0.6s) infinite ease-in-out;
    }
    
    .running .right-leg {
      animation: naturalRunRightLeg var(--walk-speed, 0.6s) infinite ease-in-out;
    }
    
    @keyframes naturalRunLeftArm {
      0% { transform: rotate(-40deg); }
      25% { transform: rotate(-20deg); }
      50% { transform: rotate(40deg); }
      75% { transform: rotate(20deg); }
      100% { transform: rotate(-40deg); }
    }
    
    @keyframes naturalRunRightArm {
      0% { transform: rotate(40deg); }
      25% { transform: rotate(20deg); }
      50% { transform: rotate(-40deg); }
      75% { transform: rotate(-20deg); }
      100% { transform: rotate(40deg); }
    }
    
    @keyframes naturalRunLeftLeg {
      0% { transform: rotate(-30deg); }
      25% { transform: rotate(-10deg); }
      50% { transform: rotate(45deg); }
      75% { transform: rotate(25deg); }
      100% { transform: rotate(-30deg); }
    }
    
    @keyframes naturalRunRightLeg {
      0% { transform: rotate(45deg); }
      25% { transform: rotate(25deg); }
      50% { transform: rotate(-30deg); }
      75% { transform: rotate(-10deg); }
      100% { transform: rotate(45deg); }
    }
    
    /* セクション別道の色 */
    .section-apps .path-area { background: #f0f8f0; }
    .section-company .path-area { background: #fff8f0; }
    .section-members .path-area { background: #f8f0f8; }
    .section-media .path-area { background: #f0f8ff; }
    .section-contact .path-area { background: #fff0f0; }
    
    .section-apps .path-line { background: #4CAF50; }
    .section-company .path-line { background: #FFB300; }
    .section-members .path-line { background: #9C27B0; }
    .section-media .path-line { background: #2196F3; }
    .section-contact .path-line { background: #FF5722; }
    
    /* 高速歩行モード */
    .fast-walking .tiny-stick-figure {
      animation-duration: 0.3s !important;
    }
    
    .fast-walking .left-arm,
    .fast-walking .right-arm,
    .fast-walking .left-upper-leg,
    .fast-walking .left-lower-leg,
    .fast-walking .right-upper-leg,
    .fast-walking .right-lower-leg {
      animation-duration: 0.3s !important;
    }
    
    /* damso.com風のクリーンなエフェクト */
    .cards-container::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        linear-gradient(to right, 
          rgba(255,255,255,0.9) 0%, 
          transparent 15%, 
          transparent 85%, 
          rgba(255,255,255,0.9) 100%);
      pointer-events: none;
      z-index: 2;
    }
    
    /* パフォーマンス最適化 */
    .card {
      will-change: transform, opacity, filter;
      backface-visibility: hidden;
      transform-origin: center center;
    }
    
    .cards-track {
      will-change: transform;
      backface-visibility: hidden;
      transform-origin: center center;
    }
    
    .tiny-stick-figure {
      will-change: transform;
      backface-visibility: hidden;
    }
    
    /* レスポンシブ - モバイル最適化 */
    @media (max-width: 768px) {
      .logo { font-size: 20px; top: 20px; left: 20px; }
      .nav { 
        top: 20px; 
        right: 20px; 
        gap: 12px;
        flex-wrap: wrap;
      }
      .nav-item { 
        font-size: 12px; 
        padding: 4px 8px;
      }
      .main-content { 
        padding: 0 10px;
        height: calc(100vh - 60px);
      }
      
      /* モバイル用カード調整 */
      .cards-container {
        height: 300px;
        perspective: 800px;
      }
      
      .card { 
        min-width: 260px; 
        height: 280px; 
        padding: 25px;
      }
      .card-icon { font-size: 36px; }
      .card-title { font-size: 18px; }
      .card-description { font-size: 14px; }
      
      /* モバイル用棒人間調整 */
      .tiny-character { 
        width: 80px; 
        height: 80px;
        bottom: 8px;
      }
      
      /* モバイル用道調整 */
      .path-area {
        height: 8px;
      }
      
      .weed {
        font-size: 6px;
      }
    }
    
    /* タッチデバイス用最適化 */
    @media (hover: none) and (pointer: coarse) {
      .card:hover {
        transform: none !important;
      }
      
      .card:active {
        transform: 
          translateX(0px) 
          translateZ(30px) 
          rotateY(0deg) 
          scale(1.02) !important;
        transition: all 0.2s ease;
      }
      
      /* タッチ時の雑草反応 */
      .weed {
        animation-duration: 2s;
      }
    }
  </style>
</head>
<body class="section-apps">
  <!-- 左上ロゴ -->
  <a href="#" class="logo">ToMoreBeyond</a>
  
  <!-- 右上ナビゲーション -->
  <nav class="nav">
    <a href="#" class="nav-item active" data-section="apps">Apps</a>
    <a href="#" class="nav-item" data-section="company">Company</a>
    <a href="#" class="nav-item" data-section="members">Members</a>
    <a href="#" class="nav-item" data-section="media">Media</a>
    <a href="#" class="nav-item" data-section="contact">Contact</a>
  </nav>
  
  <!-- メインコンテンツ -->
  <main class="main-content">
    <div class="cards-container">
      <div class="cards-track" id="cardsTrack">
        <!-- カードはJavaScriptで生成 -->
      </div>
    </div>
  </main>
  
  <!-- シンプルな道エリア -->
  <div class="path-area">
    <div class="path-line"></div>
    <div class="weeds">
      <div class="weed">🌱</div>
      <div class="weed">🌿</div>
      <div class="weed">🌱</div>
      <div class="weed">🍀</div>
      <div class="weed">🌿</div>
    </div>
  </div>
  
  <!-- 大きな棒人間（100px） - 常時歩行・スクロール時走行 -->
  <div class="tiny-character">
    <svg class="stick-figure" id="stickFigure" viewBox="0 0 100 100">
      <!-- 頭 -->
      <circle cx="50" cy="15" r="8"/>
      <!-- 体 -->
      <line x1="50" y1="23" x2="50" y2="65"/>
      <!-- 腕 -->
      <line x1="50" y1="25" x2="30" y2="45" class="left-arm"/>
      <line x1="50" y1="25" x2="70" y2="45" class="right-arm"/>
      <!-- 脚 -->
      <line x1="50" y1="65" x2="35" y2="95" class="left-leg"/>
      <line x1="50" y1="65" x2="65" y2="95" class="right-leg"/>
    </svg>
  </div>
  
  <script>
    // カードデータ
    const cardsData = [
      { icon: '🗺️', title: 'TADATAKA', description: '移動がそのまま日記になる', section: 'apps', link: 'pages/tadataka.html' },
      { icon: '🚽', title: 'ToiRun', description: '"今すぐトイレ"を最短で案内', section: 'apps', link: 'pages/toirun.html' },
      { icon: '📍', title: 'Meet in the Middle', description: '最適な集合地点を探す', section: 'apps', link: 'pages/midpoint.html' },
      { icon: '🏢', title: '会社概要', description: '道なき道を切り開く', section: 'company', link: 'pages/company.html' },
      { icon: '🎯', title: 'ミッション', description: '面白いことだけをする', section: 'company', link: '#' },
      { icon: '👨‍💻', title: '山田', description: 'CDO / デザイナー', section: 'members', link: 'pages/member_yamada.html' },
      { icon: '🚀', title: '正留', description: 'CEO / エンジニア', section: 'members', link: 'pages/member_masadome.html' },
      { icon: '🎨', title: '安藤', description: 'アーティスト', section: 'members', link: 'pages/member_ando.html' },
      { icon: '📰', title: 'ブログ', description: '開発の裏話', section: 'media', link: 'pages/media.html' },
      { icon: '🎥', title: '動画', description: 'プロダクト紹介', section: 'media', link: '#' },
      { icon: '📱', title: 'SNS', description: '日々の発信', section: 'media', link: '#' },
      { icon: '💌', title: 'お問い合わせ', description: 'お気軽にどうぞ', section: 'contact', link: '#' }
    ];
    
    class MinimalSite {
      constructor() {
        this.currentSection = 'apps';
        this.sections = ['apps', 'company', 'members', 'media', 'contact'];
        this.sectionIndex = 0;
        this.isScrolling = false;
        this.scrollTimer = null;
        this.baseScrollSpeed = 60;
        this.currentScrollSpeed = this.baseScrollSpeed;
        this.walkSpeed = 0.8;
        this.speedMultiplier = 1.0;
        this.isNavigating = false;
        
        // パフォーマンス最適化用のRAF管理
        this.rafId = null;
        this.lastTime = 0;
        
        this.init();
      }
      
      init() {
        this.createCards();
        this.setupEventListeners();
        this.startAutoScroll();
        this.optimizePerformance();
      }
      
      optimizePerformance() {
        // メモリ効率のためのRAF最適化
        this.startRAFLoop();
        
        // 不要なイベントを削除するデバウンス機能
        this.debounceCleanup();
      }
      
      startRAFLoop() {
        const loop = (currentTime) => {
          if (currentTime - this.lastTime >= 16) { // 60FPS制限
            this.updateAnimations();
            this.lastTime = currentTime;
          }
          this.rafId = requestAnimationFrame(loop);
        };
        this.rafId = requestAnimationFrame(loop);
      }
      
      updateAnimations() {
        // 必要に応じてアニメーション更新
        if (this.isScrolling) {
          this.optimizeWalkingAnimation();
        }
      }
      
      debounceCleanup() {
        // 5秒ごとにメモリクリーンアップ
        setInterval(() => {
          if (!this.isScrolling && !this.isNavigating) {
            this.cleanupUnusedElements();
          }
        }, 5000);
      }
      
      cleanupUnusedElements() {
        // 不要なDOM要素の掃除（メモリ効率化）
        const unusedCards = document.querySelectorAll('.card[data-cleanup="true"]');
        unusedCards.forEach(card => {
          if (card.parentNode) {
            card.parentNode.removeChild(card);
          }
        });
      }
      
      createCards() {
        const track = document.getElementById('cardsTrack');
        const cardsHTML = [];
        
        // 2セット作成（無限スクロール用）
        for (let set = 0; set < 2; set++) {
          cardsData.forEach(data => {
            cardsHTML.push(`
              <div class="card" data-section="${data.section}" data-link="${data.link}">
                <div class="card-icon">${data.icon}</div>
                <h3 class="card-title">${data.title}</h3>
                <p class="card-description">${data.description}</p>
              </div>
            `);
          });
        }
        
        track.innerHTML = cardsHTML.join('');
        
        // カードクリックイベント
        track.querySelectorAll('.card').forEach(card => {
          card.addEventListener('click', () => {
            const link = card.dataset.link;
            if (link && link !== '#') {
              window.location.href = link;
            }
          });
        });
      }
      
      setupEventListeners() {
        // スクロールイベント - 最適化されたハンドリング
        let scrollTimeout;
        window.addEventListener('wheel', (e) => {
          clearTimeout(scrollTimeout);
          this.handleScroll(e.deltaY);
          
          // スクロール終了を検知してパフォーマンス最適化
          scrollTimeout = setTimeout(() => {
            this.optimizeAfterScroll();
          }, 150);
        }, { passive: true });
        
        // ナビゲーションクリック - セクションジャンプ機能付き
        document.querySelectorAll('.nav-item').forEach(nav => {
          nav.addEventListener('click', (e) => {
            e.preventDefault();
            this.navigateToSection(nav.dataset.section);
          });
        });
        
        // タッチイベント（モバイル） - メモリ効率化
        let touchStartY = 0;
        let touchTimeout;
        document.addEventListener('touchstart', (e) => {
          touchStartY = e.touches[0].clientY;
        }, { passive: true });
        
        document.addEventListener('touchmove', (e) => {
          const touchY = e.touches[0].clientY;
          const deltaY = touchStartY - touchY;
          if (Math.abs(deltaY) > 10) {
            clearTimeout(touchTimeout);
            this.handleScroll(deltaY);
            
            touchTimeout = setTimeout(() => {
              this.optimizeAfterScroll();
            }, 150);
          }
        }, { passive: true });
        
        // キーボードナビゲーション
        document.addEventListener('keydown', (e) => {
          if (e.key === 'ArrowLeft') this.navigateToSection(this.sections[Math.max(0, this.sectionIndex - 1)]);
          if (e.key === 'ArrowRight') this.navigateToSection(this.sections[Math.min(this.sections.length - 1, this.sectionIndex + 1)]);
        });
      }
      
      optimizeAfterScroll() {
        // スクロール終了後の最適化処理
        this.speedMultiplier = 1.0;
        this.updateWalkingSpeed();
      }
      
      handleScroll(deltaY) {
        // スクロール強度に応じて速度倍率を計算
        const intensity = Math.abs(deltaY) * 0.08;
        this.speedMultiplier = 1.0 + intensity;
        
        // 棒人間の歩行速度を動的に調整
        this.walkSpeed = Math.max(0.2, 0.8 / this.speedMultiplier);
        
        // カードのスクロール速度を棒人間の歩行速度と同期
        this.currentScrollSpeed = Math.max(10, this.baseScrollSpeed / this.speedMultiplier);
        
        // 速度を即座に反映
        this.updateCardSpeed();
        this.updateWalkingSpeed();
        
        // 棒人間走行開始
        if (!this.isScrolling) {
          this.startRunning();
        }
        
        // スクロール終了検知
        clearTimeout(this.scrollTimer);
        this.scrollTimer = setTimeout(() => {
          this.stopRunning();
          this.resetToNormalSpeed();
        }, 200);
        
        // セクション変更（確率的）
        if (Math.random() < 0.02) {
          if (deltaY > 0) {
            this.nextSection();
          } else {
            this.prevSection();
          }
        }
      }
      
      updateCardSpeed() {
        const track = document.getElementById('cardsTrack');
        track.style.setProperty('--scroll-speed', `${this.currentScrollSpeed}s`);
      }
      
      updateWalkingSpeed() {
        const figure = document.getElementById('tinyFigure');
        figure.style.setProperty('--walk-speed', `${this.walkSpeed}s`);
      }
      
      resetToNormalSpeed() {
        this.speedMultiplier = 1.0;
        this.walkSpeed = 0.8;
        this.currentScrollSpeed = this.baseScrollSpeed;
        this.updateCardSpeed();
        this.updateWalkingSpeed();
      }
      
      optimizeWalkingAnimation() {
        // 歩行アニメーションの最適化
        const figure = document.getElementById('tinyFigure');
        const container = document.querySelector('.cards-container');
        
        if (this.speedMultiplier > 2.0) {
          // 高速時は簡略化されたアニメーション
          figure.classList.add('fast-walking');
          container.classList.add('fast-3d-mode');
        } else {
          figure.classList.remove('fast-walking');
          container.classList.remove('fast-3d-mode');
        }
      }
      
      startRunning() {
        this.isScrolling = true;
        const figure = document.getElementById('stickFigure');
        figure.classList.add('running');
        
        // 雑草の揺れ効果
        this.animateWeedsOnRun();
      }
      
      stopRunning() {
        this.isScrolling = false;
        const figure = document.getElementById('stickFigure');
        figure.classList.remove('running');
      }
      
      animateWeedsOnRun() {
        const weeds = document.querySelectorAll('.weed');
        weeds.forEach((weed, index) => {
          weed.style.animation = 'none';
          weed.offsetHeight; // リフロー強制
          weed.style.animation = `weedSway 0.3s ease-in-out infinite`;
          weed.style.animationDelay = `${index * 0.03}s`;
        });
        
        setTimeout(() => {
          weeds.forEach(weed => {
            weed.style.animation = '';
          });
        }, 800);
      }
      
      navigateToSection(sectionName) {
        if (this.currentSection === sectionName) return;
        
        this.isNavigating = true;
        
        // 高速歩行でセクションに移動
        this.speedMultiplier = 3.0;
        this.walkSpeed = 0.25;
        this.currentScrollSpeed = 15;
        
        this.updateCardSpeed();
        this.updateWalkingSpeed();
        this.startRunning();
        
        // セクション切り替え
        setTimeout(() => {
          this.changeSection(sectionName);
          
          // 通常速度に戻す
          setTimeout(() => {
            this.resetToNormalSpeed();
            this.stopRunning();
            this.isNavigating = false;
          }, 800);
        }, 400);
      }
      
      changeSection(sectionName) {
        if (this.currentSection === sectionName) return;
        
        this.currentSection = sectionName;
        document.body.className = `section-${sectionName}`;
        
        // ナビゲーション更新
        document.querySelectorAll('.nav-item').forEach(nav => {
          nav.classList.toggle('active', nav.dataset.section === sectionName);
        });
        
        this.sectionIndex = this.sections.indexOf(sectionName);
        
        // セクション特有のカードを強調表示
        this.highlightSectionCards(sectionName);
      }
      
      highlightSectionCards(sectionName) {
        const allCards = document.querySelectorAll('.card');
        allCards.forEach(card => {
          if (card.dataset.section === sectionName) {
            card.style.transform = 'scale(1.05)';
            card.style.borderColor = '#4CAF50';
            setTimeout(() => {
              card.style.transform = '';
              card.style.borderColor = '';
            }, 1000);
          }
        });
      }
      
      nextSection() {
        this.sectionIndex = (this.sectionIndex + 1) % this.sections.length;
        this.changeSection(this.sections[this.sectionIndex]);
      }
      
      prevSection() {
        this.sectionIndex = (this.sectionIndex - 1 + this.sections.length) % this.sections.length;
        this.changeSection(this.sections[this.sectionIndex]);
      }
      
      startAutoScroll() {
        const track = document.getElementById('cardsTrack');
        track.style.setProperty('--scroll-speed', `${this.baseScrollSpeed}s`);
      }
    }
    
    // 初期化
    document.addEventListener('DOMContentLoaded', () => {
      new MinimalSite();
    });
  </script>
</body>
</html>